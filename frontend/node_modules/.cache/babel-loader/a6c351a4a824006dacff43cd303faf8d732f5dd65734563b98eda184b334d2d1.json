{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\theso\\\\chess-dashboard\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { Chessboard } from 'react-chessboard';\nimport { Chess } from 'chess.js';\n\n// --- Constants ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FRIENDS = [{\n  name: \"Ulysse\",\n  username: \"realulysse\"\n}, {\n  name: \"Simon\",\n  username: \"poulet_tao\"\n}, {\n  name: \"Adrien\",\n  username: \"adrienbourque\"\n}, {\n  name: \"Alex\",\n  username: \"naatiry\"\n}, {\n  name: \"Kevin\",\n  username: \"kevor24\"\n}];\nconst MANUAL_INITIAL_RATINGS = {\n  \"realulysse\": {\n    \"Rapid\": 1971,\n    \"Blitz\": 1491,\n    \"Bullet\": 1349\n  },\n  \"poulet_tao\": {\n    \"Rapid\": 1006,\n    \"Blitz\": 413,\n    \"Bullet\": 716\n  },\n  \"adrienbourque\": {\n    \"Rapid\": 1619,\n    \"Blitz\": 1163,\n    \"Bullet\": 747\n  },\n  \"naatiry\": {\n    \"Rapid\": 874,\n    \"Blitz\": 315,\n    \"Bullet\": 487\n  },\n  \"kevor24\": {\n    \"Rapid\": 702,\n    \"Blitz\": 846,\n    \"Bullet\": 577\n  }\n};\n\n// --- Theme and Utility Hooks ---\nconst useTheme = () => {\n  _s();\n  const [theme, setTheme] = useState(() => localStorage.getItem('theme') || 'light');\n  useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove(theme === 'light' ? 'dark' : 'light');\n    root.classList.add(theme);\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n  return [theme, setTheme];\n};\n\n// --- API & Data Fetching ---\n_s(useTheme, \"sdN5stDE6MXWaThZodKo/2BHQLs=\");\nconst API_BASE_URL = 'http://localhost:5000/api';\nasync function fetchData(endpoint) {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`);\n    if (!response.ok) throw new Error(`Network response was not ok for ${endpoint}`);\n    return await response.json();\n  } catch (error) {\n    console.error(`Failed to fetch ${endpoint}:`, error);\n    return [];\n  }\n}\n\n// --- UI Components ---\nconst SunIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 201\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"1\",\n    x2: \"12\",\n    y2: \"3\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 240\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"12\",\n    y1: \"21\",\n    x2: \"12\",\n    y2: \"23\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 283\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"4.22\",\n    x2: \"5.64\",\n    y2: \"5.64\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 328\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"18.36\",\n    x2: \"19.78\",\n    y2: \"19.78\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 381\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"1\",\n    y1: \"12\",\n    x2: \"3\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 438\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"21\",\n    y1: \"12\",\n    x2: \"23\",\n    y2: \"12\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 481\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"4.22\",\n    y1: \"19.78\",\n    x2: \"5.64\",\n    y2: \"18.36\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 526\n  }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n    x1: \"18.36\",\n    y1: \"5.64\",\n    x2: \"19.78\",\n    y2: \"4.22\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 581\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 53,\n  columnNumber: 23\n}, this);\n_c = SunIcon;\nconst MoonIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 202\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 54,\n  columnNumber: 24\n}, this);\n_c2 = MoonIcon;\nfunction Dashboard({\n  currentRatings,\n  ratingHistory,\n  theme\n}) {\n  _s2();\n  const [chartData, setChartData] = useState([]);\n  const [selectedPlayers, setSelectedPlayers] = useState(() => FRIENDS.map(f => f.name));\n  const [selectedCategory, setSelectedCategory] = useState(\"Rapid\");\n  useEffect(() => {\n    const dataByCategory = ratingHistory.filter(h => h.category.includes(selectedCategory));\n    const playerSeries = selectedPlayers.map(player => {\n      return dataByCategory.filter(h => h.player_name === player).map(h => ({\n        date: new Date(h.timestamp).getTime(),\n        rating: h.rating,\n        player: player\n      })).sort((a, b) => a.date - b.date);\n    });\n    const allDates = [...new Set(dataByCategory.map(h => new Date(h.timestamp).getTime()))].sort((a, b) => a - b);\n    const processedData = allDates.map(date => {\n      const dateStr = new Date(date).toLocaleDateString();\n      const dataPoint = {\n        date: dateStr\n      };\n      playerSeries.forEach(series => {\n        if (series.length > 0) {\n          const playerName = series[0].player;\n          const pointForDate = series.find(p => new Date(p.date).toLocaleDateString() === dateStr);\n          dataPoint[playerName] = pointForDate ? pointForDate.rating : null;\n        }\n      });\n      return dataPoint;\n    });\n\n    // Forward fill nulls to create continuous lines\n    for (let i = 1; i < processedData.length; i++) {\n      for (const player of selectedPlayers) {\n        if (processedData[i][player] === null || processedData[i][player] === undefined) {\n          processedData[i][player] = processedData[i - 1][player];\n        }\n      }\n    }\n    setChartData(processedData);\n  }, [ratingHistory, selectedPlayers, selectedCategory]);\n  const handlePlayerSelection = playerName => {\n    setSelectedPlayers(prev => prev.includes(playerName) ? prev.filter(p => p !== playerName) : [...prev, playerName]);\n  };\n  const chartColor = theme === 'dark' ? '#9ca3af' : '#9e9e9e';\n  const gridColor = theme === 'dark' ? '#374151' : '#e0e0e0';\n  const playerColors = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\",\n      children: \"Chess Rating Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-10 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\",\n        children: \"Current Ratings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"border-b-2 border-gray-200 dark:border-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\",\n                children: \"Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\",\n                children: \"Rapid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\",\n                children: \"Blitz\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\",\n                children: \"Bullet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: currentRatings.map(player => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100\",\n                children: player.friend_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\",\n                children: [player.rapid_rating, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: player.rapid_change >= 0 ? 'text-green-500' : 'text-red-500',\n                  children: [\"(\", player.rapid_change >= 0 ? '+' : '', player.rapid_change, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\",\n                children: [player.blitz_rating, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: player.blitz_change >= 0 ? 'text-green-500' : 'text-red-500',\n                  children: [\"(\", player.blitz_change >= 0 ? '+' : '', player.blitz_change, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\",\n                children: [player.bullet_rating, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: player.bullet_change >= 0 ? 'text-green-500' : 'text-red-500',\n                  children: [\"(\", player.bullet_change >= 0 ? '+' : '', player.bullet_change, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 37\n              }, this)]\n            }, player.friend_name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\",\n        children: \"Rating Progression\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4 mb-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold mr-2 text-gray-700 dark:text-gray-300\",\n            children: \"Category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => setSelectedCategory(e.target.value),\n            value: selectedCategory,\n            className: \"p-2 border rounded-md bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Rapid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Blitz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Bullet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-semibold mr-2 text-gray-700 dark:text-gray-300\",\n            children: \"Players:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline-flex flex-wrap gap-2\",\n            children: FRIENDS.map(friend => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePlayerSelection(friend.name),\n              className: `px-3 py-1 text-sm rounded-full transition-colors ${selectedPlayers.includes(friend.name) ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-600 dark:text-gray-200'}`,\n              children: friend.name\n            }, friend.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '400px'\n        },\n        children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(LineChart, {\n            data: chartData,\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\",\n              stroke: gridColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"date\",\n              stroke: chartColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              domain: ['dataMin - 20', 'dataMax + 20'],\n              stroke: chartColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              contentStyle: {\n                backgroundColor: theme === 'dark' ? '#1f2937' : '#ffffff',\n                border: `1px solid ${gridColor}`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {\n              wrapperStyle: {\n                color: chartColor\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this), FRIENDS.map((friend, index) => selectedPlayers.includes(friend.name) && /*#__PURE__*/_jsxDEV(Line, {\n              type: \"monotone\",\n              dataKey: friend.name,\n              stroke: playerColors[index % playerColors.length],\n              strokeWidth: 2,\n              connectNulls: true\n            }, friend.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 74\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 9\n  }, this);\n}\n_s2(Dashboard, \"Ayyzf+VdFctGaQ6BoLJT1lXI1Hc=\");\n_c3 = Dashboard;\nfunction PlayerStats({\n  theme\n}) {\n  _s3();\n  var _playerData$stats, _playerData$stats$che, _playerData$stats2, _playerData$stats2$ch, _playerData$stats3, _playerData$stats3$ch, _playerData$stats4, _playerData$stats4$ch, _playerData$stats5, _playerData$stats5$ch, _playerData$stats6, _playerData$stats6$ch;\n  const [selectedPlayer, setSelectedPlayer] = useState(FRIENDS[0].username);\n  const [playerData, setPlayerData] = useState(null);\n  const [openings, setOpenings] = useState({\n    white: [],\n    black: []\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchAllPlayerData = async () => {\n      setLoading(true);\n      try {\n        const [stats, whiteOpenings, blackOpenings] = await Promise.all([fetch(`https://api.chess.com/pub/player/${selectedPlayer}/stats`).then(res => res.json()), fetchData(`/openings/white/${selectedPlayer}`), fetchData(`/openings/black/${selectedPlayer}`)]);\n        setPlayerData({\n          stats\n        });\n        setOpenings({\n          white: whiteOpenings,\n          black: blackOpenings\n        });\n      } catch (error) {\n        console.error(\"Failed to fetch player data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAllPlayerData();\n  }, [selectedPlayer]);\n  const chartColor = theme === 'dark' ? '#9ca3af' : '#9e9e9e';\n  const OpeningChart = ({\n    data,\n    color,\n    title\n  }) => {\n    if (!data || data.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-center mb-2 text-gray-800 dark:text-gray-200\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full text-gray-500 dark:text-gray-400\",\n          children: \"No opening data available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-center mb-2 text-gray-800 dark:text-gray-200\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '250px'\n        },\n        children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            data: data,\n            layout: \"vertical\",\n            margin: {\n              top: 5,\n              right: 20,\n              left: 120,\n              bottom: 5\n            },\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              type: \"number\",\n              dataKey: \"games_played\",\n              stroke: chartColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n              type: \"category\",\n              dataKey: \"opening_name\",\n              width: 120,\n              stroke: chartColor,\n              tick: {\n                fontSize: 12\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n              contentStyle: {\n                backgroundColor: theme === 'dark' ? '#1f2937' : '#ffffff'\n              },\n              formatter: (value, name, props) => {\n                if (name === \"games_played\") {\n                  const {\n                    wins,\n                    losses,\n                    draws\n                  } = props.payload;\n                  return `${value} (W: ${wins}, L: ${losses}, D: ${draws})`;\n                }\n                return value;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"games_played\",\n              fill: color\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this);\n  };\n  const StatCard = ({\n    title,\n    rating,\n    record\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold text-gray-600 dark:text-gray-400\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-4xl font-bold text-gray-800 dark:text-gray-100 my-2\",\n      children: rating || 'N/A'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500 dark:text-gray-400\",\n      children: [\"W: \", (record === null || record === void 0 ? void 0 : record.win) || 0, \" / L: \", (record === null || record === void 0 ? void 0 : record.loss) || 0, \" / D: \", (record === null || record === void 0 ? void 0 : record.draw) || 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\",\n      children: \"Player Stats\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"player-select\",\n        className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\",\n        children: \"Select a Player\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"player-select\",\n        value: selectedPlayer,\n        onChange: e => setSelectedPlayer(e.target.value),\n        className: \"block w-full md:w-1/2 p-3 border border-gray-300 bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n        children: FRIENDS.map(friend => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: friend.username,\n          children: friend.name\n        }, friend.username, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 44\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-600 dark:text-gray-400\",\n      children: \"Loading player data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 24\n    }, this) : playerData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Rapid\",\n          rating: (_playerData$stats = playerData.stats) === null || _playerData$stats === void 0 ? void 0 : (_playerData$stats$che = _playerData$stats.chess_rapid) === null || _playerData$stats$che === void 0 ? void 0 : _playerData$stats$che.last.rating,\n          record: (_playerData$stats2 = playerData.stats) === null || _playerData$stats2 === void 0 ? void 0 : (_playerData$stats2$ch = _playerData$stats2.chess_rapid) === null || _playerData$stats2$ch === void 0 ? void 0 : _playerData$stats2$ch.record\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Blitz\",\n          rating: (_playerData$stats3 = playerData.stats) === null || _playerData$stats3 === void 0 ? void 0 : (_playerData$stats3$ch = _playerData$stats3.chess_blitz) === null || _playerData$stats3$ch === void 0 ? void 0 : _playerData$stats3$ch.last.rating,\n          record: (_playerData$stats4 = playerData.stats) === null || _playerData$stats4 === void 0 ? void 0 : (_playerData$stats4$ch = _playerData$stats4.chess_blitz) === null || _playerData$stats4$ch === void 0 ? void 0 : _playerData$stats4$ch.record\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n          title: \"Bullet\",\n          rating: (_playerData$stats5 = playerData.stats) === null || _playerData$stats5 === void 0 ? void 0 : (_playerData$stats5$ch = _playerData$stats5.chess_bullet) === null || _playerData$stats5$ch === void 0 ? void 0 : _playerData$stats5$ch.last.rating,\n          record: (_playerData$stats6 = playerData.stats) === null || _playerData$stats6 === void 0 ? void 0 : (_playerData$stats6$ch = _playerData$stats6.chess_bullet) === null || _playerData$stats6$ch === void 0 ? void 0 : _playerData$stats6$ch.record\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\",\n          children: \"Favorite Openings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(OpeningChart, {\n            title: \"As White\",\n            data: openings.white,\n            color: \"#8884d8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(OpeningChart, {\n            title: \"As Black\",\n            data: openings.black,\n            color: \"#82ca9d\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Could not load player data.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 9\n  }, this);\n}\n_s3(PlayerStats, \"hHLCl1tQL9TN6K597Os2ccugO+o=\");\n_c4 = PlayerStats;\nfunction GameAnalysis() {\n  _s4();\n  const [pgn, setPgn] = useState('');\n  const [pgnError, setPgnError] = useState('');\n  const [game, setGame] = useState(new Chess());\n  const [history, setHistory] = useState([]);\n  const [currentMove, setCurrentMove] = useState(-1);\n  const [evaluation, setEvaluation] = useState('');\n  const [topMoves, setTopMoves] = useState([]);\n  const [engineStatus, setEngineStatus] = useState('Loading...');\n  const stockfish = useRef(null);\n  const currentGameForEngine = useRef(new Chess());\n  useEffect(() => {\n    const STOCKFISH_URL = process.env.PUBLIC_URL + '/stockfish-17-lite-single.js';\n    let worker;\n    try {\n      worker = new Worker(STOCKFISH_URL);\n      stockfish.current = worker;\n      const onMessage = event => {\n        const message = String(event.data);\n        if (message === 'readyok') {\n          setEngineStatus('Ready');\n        } else if (message.startsWith('uciok')) {\n          worker.postMessage('isready');\n        } else {\n          if (message.includes('score cp')) {\n            const scoreMatch = message.match(/score cp (-?\\d+)/);\n            if (scoreMatch) {\n              setEvaluation((parseInt(scoreMatch[1], 10) / 100).toFixed(2));\n            }\n          }\n          if (message.includes('info depth') && message.includes(' pv ')) {\n            const moves = message.split(' pv ')[1].split(' ');\n            const topEngineMoves = [];\n            const tempGame = new Chess(currentGameForEngine.current.fen());\n            for (let i = 0; i < Math.min(3, moves.length); i++) {\n              try {\n                const moveResult = tempGame.move(moves[i], {\n                  sloppy: true\n                });\n                if (moveResult) {\n                  topEngineMoves.push(moveResult.san);\n                  tempGame.undo();\n                }\n              } catch (e) {/* ignore */}\n            }\n            setTopMoves(topEngineMoves);\n          }\n        }\n      };\n      worker.addEventListener('message', onMessage);\n      worker.onerror = e => {\n        setEngineStatus(`Error: Could not load Stockfish. Make sure stockfish-17-lite-single.js and .wasm are in /public.`);\n        console.error(\"Stockfish worker error:\", e);\n      };\n      worker.postMessage('uci');\n      return () => {\n        worker.removeEventListener('message', onMessage);\n        worker.terminate();\n      };\n    } catch (error) {\n      setEngineStatus('Failed to load worker.');\n      console.error(\"Failed to initialize Stockfish worker:\", error);\n    }\n  }, []);\n  const getEvaluation = fen => {\n    if (engineStatus !== 'Ready' || !stockfish.current) return;\n    setEvaluation('...');\n    setTopMoves([]);\n    stockfish.current.postMessage(`position fen ${fen}`);\n    stockfish.current.postMessage('go depth 15');\n  };\n  const handleLoadPgn = () => {\n    setPgnError('');\n    const newGame = new Chess();\n    try {\n      let pgnString = pgn.trim();\n      const tagRegex = /\\[\\s*(\\w+)\\s*\"([^\"]*)\"\\s*\\]/g;\n      const tags = pgnString.match(tagRegex) || [];\n      const movetext = pgnString.replace(tagRegex, '').trim();\n      const cleanedMovetext = movetext.replace(/\\{[^}]*?\\}/g, '').replace(/\\([^)]*?\\)/g, '').replace(/\\$\\d+/g, '').replace(/[\\r\\n\\t]+/g, ' ').trim();\n      const cleanedPgn = tags.join('\\n') + '\\n\\n' + cleanedMovetext;\n      newGame.loadPgn(cleanedPgn);\n      if (newGame.history().length === 0) {\n        throw new Error(\"The PGN was loaded, but it contains no moves.\");\n      }\n      const startingFen = new Chess().fen();\n      setGame(new Chess(startingFen));\n      currentGameForEngine.current = new Chess(startingFen);\n      setHistory(newGame.history({\n        verbose: true\n      }));\n      setCurrentMove(-1);\n      getEvaluation(startingFen);\n    } catch (e) {\n      setPgnError(e.message || \"An unexpected error occurred while loading the PGN.\");\n      setGame(new Chess());\n      setHistory([]);\n      setCurrentMove(-1);\n      setEvaluation('');\n      setTopMoves([]);\n    }\n  };\n  const navigateToMove = index => {\n    const newGame = new Chess();\n    const fullHistory = history.map(h => h.san);\n    for (let i = 0; i <= index; i++) {\n      newGame.move(fullHistory[i]);\n    }\n    setGame(newGame);\n    currentGameForEngine.current = new Chess(newGame.fen());\n    setCurrentMove(index);\n    getEvaluation(newGame.fen());\n  };\n  const isGameLoaded = history.length > 0;\n  const EvaluationBar = ({\n    score\n  }) => {\n    const numScore = parseFloat(score);\n    if (isNaN(numScore)) return null;\n    const clampedScore = Math.max(-10, Math.min(10, numScore));\n    const percentage = 50 + clampedScore * 5;\n\n    // Determine color based on evaluation\n    const getEvalColor = score => {\n      if (score > 2) return 'text-green-600 dark:text-green-400';\n      if (score > 0.5) return 'text-green-500 dark:text-green-300';\n      if (score < -2) return 'text-red-600 dark:text-red-400';\n      if (score < -0.5) return 'text-red-500 dark:text-red-300';\n      return 'text-gray-600 dark:text-gray-400';\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n          children: \"Position Evaluation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-lg font-bold ${getEvalColor(numScore)}`,\n          children: [numScore > 0 ? '+' : '', score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-700 rounded-full h-6 dark:bg-gray-800 relative overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white h-6 rounded-full\",\n          style: {\n            width: `${percentage}%`,\n            transition: 'width 0.3s ease-in-out'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex items-center justify-center text-xs font-medium text-black mix-blend-difference\",\n          children: \"White advantage \\u2190 \\u2192 Black advantage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Equal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"White\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\",\n      children: \"Game Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col lg:flex-row gap-8 items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:w-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Chessboard, {\n          position: game.fen(),\n          boardWidth: 400\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 21\n        }, this), isGameLoaded && /*#__PURE__*/_jsxDEV(EvaluationBar, {\n          score: evaluation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full lg:flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\",\n          children: \"PGN Loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold mr-2 text-gray-700 dark:text-gray-300\",\n            children: \"Engine Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 text-xs font-bold rounded-full ${engineStatus === 'Ready' ? 'bg-green-200 text-green-800' : 'bg-yellow-200 text-yellow-800'}`,\n            children: engineStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: pgn,\n          onChange: e => setPgn(e.target.value),\n          placeholder: \"Paste PGN here to load a game...\",\n          className: \"w-full h-32 p-2 border rounded-md bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 21\n        }, this), pgnError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 text-sm mt-2\",\n          children: pgnError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLoadPgn,\n          disabled: engineStatus !== 'Ready',\n          className: \"mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition disabled:bg-gray-400\",\n          children: \"Load Game & Analyze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }, this), isGameLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-700 dark:text-gray-300\",\n            children: \"Top Engine Moves:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-decimal list-inside mt-2 text-gray-600 dark:text-gray-400\",\n            children: topMoves.map((move, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: move\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 64\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 13\n    }, this), isGameLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\",\n        children: \"Moves\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigateToMove(-1),\n          className: `px-3 py-1 text-sm rounded-md ${currentMove === -1 ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-700 dark:text-gray-300'}`,\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 25\n        }, this), history.map((move, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigateToMove(index),\n          className: `px-3 py-1 text-sm rounded-md ${currentMove === index ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-700 dark:text-gray-300'}`,\n          children: [Math.floor(index / 2) + 1, \".\", index % 2 === 0 ? '' : '..', \" \", move.san]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 466,\n    columnNumber: 9\n  }, this);\n}\n_s4(GameAnalysis, \"DhYxu9EsmcbUu6nypSccLsNQe2A=\");\n_c5 = GameAnalysis;\nexport default function App() {\n  _s5();\n  const [theme, setTheme] = useTheme();\n  const [activeTab, setActiveTab] = useState('Dashboard');\n  const [currentRatings, setCurrentRatings] = useState([]);\n  const [ratingHistory, setRatingHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const loadAllData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const ratingsData = await fetchData('/ratings/current');\n      const historyData = await fetchData('/ratings/history');\n      if (!Array.isArray(ratingsData) || !Array.isArray(historyData)) {\n        throw new Error(\"Data from API is not in the expected format.\");\n      }\n      const friendUsernameMap = FRIENDS.reduce((acc, curr) => {\n        acc[curr.name] = curr.username;\n        return acc;\n      }, {});\n      const ratingsWithChanges = ratingsData.map(player => {\n        const username = friendUsernameMap[player.friend_name];\n        const initialRatings = MANUAL_INITIAL_RATINGS[username];\n        const rapid_change = initialRatings ? player.rapid_rating - initialRatings.Rapid : 0;\n        const blitz_change = initialRatings ? player.blitz_rating - initialRatings.Blitz : 0;\n        const bullet_change = initialRatings ? player.bullet_rating - initialRatings.Bullet : 0;\n        return {\n          ...player,\n          rapid_change,\n          blitz_change,\n          bullet_change\n        };\n      });\n      setCurrentRatings(ratingsWithChanges);\n      setRatingHistory(historyData);\n    } catch (e) {\n      setError(\"Could not connect to the backend API. Please ensure the 'api.py' server is running.\");\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    loadAllData();\n  }, [loadAllData]);\n  const renderTab = () => {\n    if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-10 text-gray-700 dark:text-gray-300\",\n      children: \"Loading data from backend...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 29\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-10 text-red-500 font-semibold\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 27\n    }, this);\n    switch (activeTab) {\n      case 'Dashboard':\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          friends: FRIENDS,\n          currentRatings: currentRatings,\n          ratingHistory: ratingHistory,\n          theme: theme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 38\n        }, this);\n      case 'Player Stats':\n        return /*#__PURE__*/_jsxDEV(PlayerStats, {\n          friends: FRIENDS,\n          theme: theme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 41\n        }, this);\n      case 'Game Analysis':\n        return /*#__PURE__*/_jsxDEV(GameAnalysis, {\n          theme: theme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 42\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Dashboard, {\n          friends: FRIENDS,\n          currentRatings: currentRatings,\n          ratingHistory: ratingHistory,\n          theme: theme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  const NavItem = ({\n    name\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => setActiveTab(name),\n    className: `w-full text-left px-4 py-2.5 rounded-lg text-md transition-colors ${activeTab === name ? 'bg-indigo-100 dark:bg-gray-700 text-indigo-700 dark:text-gray-100 font-semibold' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-gray-100'}`,\n    children: name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 588,\n    columnNumber: 9\n  }, this);\n  const toggleTheme = () => setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100 dark:bg-gray-900 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-white dark:bg-gray-800 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-800 dark:text-gray-200\",\n          children: \"\\u265F\\uFE0F Chess App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"p-4 space-y-2 flex-grow\",\n        children: [/*#__PURE__*/_jsxDEV(NavItem, {\n          name: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          name: \"Player Stats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          name: \"Game Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t border-gray-200 dark:border-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleTheme,\n          className: \"w-full flex items-center justify-center p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\",\n          children: [theme === 'light' ? /*#__PURE__*/_jsxDEV(MoonIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 46\n          }, this) : /*#__PURE__*/_jsxDEV(SunIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 61\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2\",\n            children: \"Switch Theme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 overflow-y-auto p-8\",\n      children: renderTab()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 596,\n    columnNumber: 9\n  }, this);\n}\n_s5(App, \"8QDqWp5j8Zl2FOcGxOn/xo5D61M=\", false, function () {\n  return [useTheme];\n});\n_c6 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"SunIcon\");\n$RefreshReg$(_c2, \"MoonIcon\");\n$RefreshReg$(_c3, \"Dashboard\");\n$RefreshReg$(_c4, \"PlayerStats\");\n$RefreshReg$(_c5, \"GameAnalysis\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","BarChart","Bar","Chessboard","Chess","jsxDEV","_jsxDEV","Fragment","_Fragment","FRIENDS","name","username","MANUAL_INITIAL_RATINGS","useTheme","_s","theme","setTheme","localStorage","getItem","root","window","document","documentElement","classList","remove","add","setItem","API_BASE_URL","fetchData","endpoint","response","fetch","ok","Error","json","error","console","SunIcon","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","cx","cy","r","fileName","_jsxFileName","lineNumber","columnNumber","x1","y1","x2","y2","_c","MoonIcon","d","_c2","Dashboard","currentRatings","ratingHistory","_s2","chartData","setChartData","selectedPlayers","setSelectedPlayers","map","f","selectedCategory","setSelectedCategory","dataByCategory","filter","h","category","includes","playerSeries","player","player_name","date","Date","timestamp","getTime","rating","sort","a","b","allDates","Set","processedData","dateStr","toLocaleDateString","dataPoint","forEach","series","length","playerName","pointForDate","find","p","i","undefined","handlePlayerSelection","prev","chartColor","gridColor","playerColors","className","friend_name","rapid_rating","rapid_change","blitz_rating","blitz_change","bullet_rating","bullet_change","onChange","e","target","value","friend","onClick","style","data","strokeDasharray","dataKey","domain","contentStyle","backgroundColor","border","wrapperStyle","color","index","type","connectNulls","_c3","PlayerStats","_s3","_playerData$stats","_playerData$stats$che","_playerData$stats2","_playerData$stats2$ch","_playerData$stats3","_playerData$stats3$ch","_playerData$stats4","_playerData$stats4$ch","_playerData$stats5","_playerData$stats5$ch","_playerData$stats6","_playerData$stats6$ch","selectedPlayer","setSelectedPlayer","playerData","setPlayerData","openings","setOpenings","white","black","loading","setLoading","fetchAllPlayerData","stats","whiteOpenings","blackOpenings","Promise","all","then","res","OpeningChart","title","layout","margin","top","right","left","bottom","tick","fontSize","formatter","props","wins","losses","draws","payload","StatCard","record","win","loss","draw","htmlFor","id","chess_rapid","last","chess_blitz","chess_bullet","_c4","GameAnalysis","_s4","pgn","setPgn","pgnError","setPgnError","game","setGame","history","setHistory","currentMove","setCurrentMove","evaluation","setEvaluation","topMoves","setTopMoves","engineStatus","setEngineStatus","stockfish","currentGameForEngine","STOCKFISH_URL","process","env","PUBLIC_URL","worker","Worker","current","onMessage","event","message","String","startsWith","postMessage","scoreMatch","match","parseInt","toFixed","moves","split","topEngineMoves","tempGame","fen","Math","min","moveResult","move","sloppy","push","san","undo","addEventListener","onerror","removeEventListener","terminate","getEvaluation","handleLoadPgn","newGame","pgnString","trim","tagRegex","tags","movetext","replace","cleanedMovetext","cleanedPgn","join","loadPgn","startingFen","verbose","navigateToMove","fullHistory","isGameLoaded","EvaluationBar","score","numScore","parseFloat","isNaN","clampedScore","max","percentage","getEvalColor","transition","position","boardWidth","placeholder","disabled","floor","_c5","App","_s5","activeTab","setActiveTab","setCurrentRatings","setRatingHistory","setError","loadAllData","ratingsData","historyData","Array","isArray","friendUsernameMap","reduce","acc","curr","ratingsWithChanges","initialRatings","Rapid","Blitz","Bullet","renderTab","friends","NavItem","toggleTheme","prevTheme","_c6","$RefreshReg$"],"sources":["C:/Users/theso/chess-dashboard/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, BarChart, Bar } from 'recharts';\nimport { Chessboard } from 'react-chessboard';\nimport { Chess } from 'chess.js';\n\n// --- Constants ---\nconst FRIENDS = [\n    { name: \"Ulysse\", username: \"realulysse\" },\n    { name: \"Simon\", username: \"poulet_tao\" },\n    { name: \"Adrien\", username: \"adrienbourque\" },\n    { name: \"Alex\", username: \"naatiry\" },\n    { name: \"Kevin\", username: \"kevor24\" },\n];\n\nconst MANUAL_INITIAL_RATINGS = {\n    \"realulysse\": { \"Rapid\": 1971, \"Blitz\": 1491, \"Bullet\": 1349 },\n    \"poulet_tao\": { \"Rapid\": 1006, \"Blitz\": 413, \"Bullet\": 716 },\n    \"adrienbourque\": { \"Rapid\": 1619, \"Blitz\": 1163, \"Bullet\": 747 },\n    \"naatiry\": { \"Rapid\": 874, \"Blitz\": 315, \"Bullet\": 487 },\n    \"kevor24\": { \"Rapid\": 702, \"Blitz\": 846, \"Bullet\": 577 }\n};\n\n\n// --- Theme and Utility Hooks ---\nconst useTheme = () => {\n    const [theme, setTheme] = useState(() => localStorage.getItem('theme') || 'light');\n    useEffect(() => {\n        const root = window.document.documentElement;\n        root.classList.remove(theme === 'light' ? 'dark' : 'light');\n        root.classList.add(theme);\n        localStorage.setItem('theme', theme);\n    }, [theme]);\n    return [theme, setTheme];\n};\n\n// --- API & Data Fetching ---\nconst API_BASE_URL = 'http://localhost:5000/api';\n\n\nasync function fetchData(endpoint) {\n    try {\n        const response = await fetch(`${API_BASE_URL}${endpoint}`);\n        if (!response.ok) throw new Error(`Network response was not ok for ${endpoint}`);\n        return await response.json();\n    } catch (error) {\n        console.error(`Failed to fetch ${endpoint}:`, error);\n        return [];\n    }\n}\n\n\n// --- UI Components ---\nconst SunIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"5\"></circle><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line></svg>;\nconst MoonIcon = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"></path></svg>;\n\nfunction Dashboard({ currentRatings, ratingHistory, theme }) {\n    const [chartData, setChartData] = useState([]);\n    const [selectedPlayers, setSelectedPlayers] = useState(() => FRIENDS.map(f => f.name));\n    const [selectedCategory, setSelectedCategory] = useState(\"Rapid\");\n\n    useEffect(() => {\n        const dataByCategory = ratingHistory.filter(h => h.category.includes(selectedCategory));\n\n        const playerSeries = selectedPlayers.map(player => {\n            return dataByCategory\n                .filter(h => h.player_name === player)\n                .map(h => ({\n                    date: new Date(h.timestamp).getTime(),\n                    rating: h.rating,\n                    player: player\n                }))\n                .sort((a, b) => a.date - b.date);\n        });\n\n        const allDates = [...new Set(dataByCategory.map(h => new Date(h.timestamp).getTime()))].sort((a, b) => a - b);\n\n        const processedData = allDates.map(date => {\n            const dateStr = new Date(date).toLocaleDateString();\n            const dataPoint = { date: dateStr };\n            playerSeries.forEach(series => {\n                if (series.length > 0) {\n                    const playerName = series[0].player;\n                    const pointForDate = series.find(p => new Date(p.date).toLocaleDateString() === dateStr);\n                    dataPoint[playerName] = pointForDate ? pointForDate.rating : null;\n                }\n            });\n            return dataPoint;\n        });\n\n        // Forward fill nulls to create continuous lines\n        for (let i = 1; i < processedData.length; i++) {\n            for (const player of selectedPlayers) {\n                if (processedData[i][player] === null || processedData[i][player] === undefined) {\n                    processedData[i][player] = processedData[i - 1][player];\n                }\n            }\n        }\n\n        setChartData(processedData);\n\n    }, [ratingHistory, selectedPlayers, selectedCategory]);\n\n    const handlePlayerSelection = (playerName) => {\n        setSelectedPlayers(prev =>\n            prev.includes(playerName) ? prev.filter(p => p !== playerName) : [...prev, playerName]\n        );\n    };\n\n    const chartColor = theme === 'dark' ? '#9ca3af' : '#9e9e9e';\n    const gridColor = theme === 'dark' ? '#374151' : '#e0e0e0';\n    const playerColors = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\n\n    return (\n        <div>\n            <h1 className=\"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\">Chess Rating Dashboard</h1>\n            <div className=\"mb-10 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n                <h2 className=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">Current Ratings</h2>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full\">\n                        <thead className=\"border-b-2 border-gray-200 dark:border-gray-700\">\n                            <tr>\n                                <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\">Player</th>\n                                <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\">Rapid</th>\n                                <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\">Blitz</th>\n                                <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider\">Bullet</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {currentRatings.map((player) => (\n                                <tr key={player.friend_name} className=\"dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100\">{player.friend_name}</td>\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\">\n                                        {player.rapid_rating}\n                                        <span className={player.rapid_change >= 0 ? 'text-green-500' : 'text-red-500'}>\n                                            ({player.rapid_change >= 0 ? '+' : ''}{player.rapid_change})\n                                        </span>\n                                    </td>\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\">\n                                        {player.blitz_rating}\n                                        <span className={player.blitz_change >= 0 ? 'text-green-500' : 'text-red-500'}>\n                                            ({player.blitz_change >= 0 ? '+' : ''}{player.blitz_change})\n                                        </span>\n                                    </td>\n                                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300\">\n                                        {player.bullet_rating}\n                                        <span className={player.bullet_change >= 0 ? 'text-green-500' : 'text-red-500'}>\n                                            ({player.bullet_change >= 0 ? '+' : ''}{player.bullet_change})\n                                        </span>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <div className=\"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n                <h2 className=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">Rating Progression</h2>\n                <div className=\"flex flex-wrap gap-4 mb-4 items-center\">\n                    <div>\n                        <label className=\"font-semibold mr-2 text-gray-700 dark:text-gray-300\">Category:</label>\n                        <select onChange={(e) => setSelectedCategory(e.target.value)} value={selectedCategory} className=\"p-2 border rounded-md bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\">\n                            <option>Rapid</option>\n                            <option>Blitz</option>\n                            <option>Bullet</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"font-semibold mr-2 text-gray-700 dark:text-gray-300\">Players:</label>\n                        <div className=\"inline-flex flex-wrap gap-2\">\n                            {FRIENDS.map(friend => (\n                                <button key={friend.name} onClick={() => handlePlayerSelection(friend.name)} className={`px-3 py-1 text-sm rounded-full transition-colors ${selectedPlayers.includes(friend.name) ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-600 dark:text-gray-200'}`}>\n                                    {friend.name}\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                </div>\n                <div style={{ height: '400px' }}>\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={chartData}>\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke={gridColor} />\n                            <XAxis dataKey=\"date\" stroke={chartColor} />\n                            <YAxis domain={['dataMin - 20', 'dataMax + 20']} stroke={chartColor} />\n                            <Tooltip contentStyle={{ backgroundColor: theme === 'dark' ? '#1f2937' : '#ffffff', border: `1px solid ${gridColor}` }} />\n                            <Legend wrapperStyle={{ color: chartColor }} />\n                            {FRIENDS.map((friend, index) => (\n                                selectedPlayers.includes(friend.name) && <Line key={friend.name} type=\"monotone\" dataKey={friend.name} stroke={playerColors[index % playerColors.length]} strokeWidth={2} connectNulls />\n                            ))}\n                        </LineChart>\n                    </ResponsiveContainer>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction PlayerStats({ theme }) {\n    const [selectedPlayer, setSelectedPlayer] = useState(FRIENDS[0].username);\n    const [playerData, setPlayerData] = useState(null);\n    const [openings, setOpenings] = useState({ white: [], black: [] });\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const fetchAllPlayerData = async () => {\n            setLoading(true);\n            try {\n                const [stats, whiteOpenings, blackOpenings] = await Promise.all([\n                    fetch(`https://api.chess.com/pub/player/${selectedPlayer}/stats`).then(res => res.json()),\n                    fetchData(`/openings/white/${selectedPlayer}`),\n                    fetchData(`/openings/black/${selectedPlayer}`),\n                ]);\n                setPlayerData({ stats });\n                setOpenings({ white: whiteOpenings, black: blackOpenings });\n            } catch (error) {\n                console.error(\"Failed to fetch player data:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchAllPlayerData();\n    }, [selectedPlayer]);\n\n    const chartColor = theme === 'dark' ? '#9ca3af' : '#9e9e9e';\n\n    const OpeningChart = ({ data, color, title }) => {\n        if (!data || data.length === 0) {\n            return (\n                <div>\n                    <h3 className=\"text-lg font-semibold text-center mb-2 text-gray-800 dark:text-gray-200\">{title}</h3>\n                    <div className=\"flex items-center justify-center h-full text-gray-500 dark:text-gray-400\">No opening data available.</div>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <h3 className=\"text-lg font-semibold text-center mb-2 text-gray-800 dark:text-gray-200\">{title}</h3>\n                <div style={{ height: '250px' }}>\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <BarChart data={data} layout=\"vertical\" margin={{ top: 5, right: 20, left: 120, bottom: 5 }}>\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <XAxis type=\"number\" dataKey=\"games_played\" stroke={chartColor} />\n                            <YAxis type=\"category\" dataKey=\"opening_name\" width={120} stroke={chartColor} tick={{ fontSize: 12 }} />\n                            <Tooltip contentStyle={{ backgroundColor: theme === 'dark' ? '#1f2937' : '#ffffff' }} formatter={(value, name, props) => {\n                                if (name === \"games_played\") {\n                                    const { wins, losses, draws } = props.payload;\n                                    return `${value} (W: ${wins}, L: ${losses}, D: ${draws})`;\n                                }\n                                return value;\n                            }} />\n                            <Bar dataKey=\"games_played\" fill={color} />\n                        </BarChart>\n                    </ResponsiveContainer>\n                </div>\n            </div>\n        );\n    }\n\n    const StatCard = ({ title, rating, record }) => (\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 text-center\">\n            <h3 className=\"text-xl font-semibold text-gray-600 dark:text-gray-400\">{title}</h3>\n            <p className=\"text-4xl font-bold text-gray-800 dark:text-gray-100 my-2\">{rating || 'N/A'}</p>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">W: {record?.win || 0} / L: {record?.loss || 0} / D: {record?.draw || 0}</p>\n        </div>\n    );\n\n    return (\n        <div>\n            <h1 className=\"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\">Player Stats</h1>\n            <div className=\"mb-8\">\n                <label htmlFor=\"player-select\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Select a Player</label>\n                <select id=\"player-select\" value={selectedPlayer} onChange={e => setSelectedPlayer(e.target.value)} className=\"block w-full md:w-1/2 p-3 border border-gray-300 bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\">\n                    {FRIENDS.map(friend => <option key={friend.username} value={friend.username}>{friend.name}</option>)}\n                </select>\n            </div>\n            {loading ? <p className=\"text-center text-gray-600 dark:text-gray-400\">Loading player data...</p> : playerData ? (\n                <>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                        <StatCard title=\"Rapid\" rating={playerData.stats?.chess_rapid?.last.rating} record={playerData.stats?.chess_rapid?.record} />\n                        <StatCard title=\"Blitz\" rating={playerData.stats?.chess_blitz?.last.rating} record={playerData.stats?.chess_blitz?.record} />\n                        <StatCard title=\"Bullet\" rating={playerData.stats?.chess_bullet?.last.rating} record={playerData.stats?.chess_bullet?.record} />\n                    </div>\n                    <div className=\"mt-10 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n                        <h2 className=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">Favorite Openings</h2>\n                        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                            <OpeningChart title=\"As White\" data={openings.white} color=\"#8884d8\" />\n                            <OpeningChart title=\"As Black\" data={openings.black} color=\"#82ca9d\" />\n                        </div>\n                    </div>\n                </>\n            ) : <p>Could not load player data.</p>}\n        </div>\n    );\n}\n\nfunction GameAnalysis() {\n    const [pgn, setPgn] = useState('');\n    const [pgnError, setPgnError] = useState('');\n    const [game, setGame] = useState(new Chess());\n    const [history, setHistory] = useState([]);\n    const [currentMove, setCurrentMove] = useState(-1);\n    const [evaluation, setEvaluation] = useState('');\n    const [topMoves, setTopMoves] = useState([]);\n    const [engineStatus, setEngineStatus] = useState('Loading...');\n    const stockfish = useRef(null);\n    const currentGameForEngine = useRef(new Chess());\n\n    useEffect(() => {\n        const STOCKFISH_URL = process.env.PUBLIC_URL + '/stockfish-17-lite-single.js';\n    \n        let worker;\n        try {\n            worker = new Worker(STOCKFISH_URL);\n            stockfish.current = worker;\n    \n            const onMessage = (event) => {\n                const message = String(event.data);\n    \n                if (message === 'readyok') {\n                    setEngineStatus('Ready');\n                } else if (message.startsWith('uciok')) {\n                    worker.postMessage('isready');\n                } else {\n                    if (message.includes('score cp')) {\n                        const scoreMatch = message.match(/score cp (-?\\d+)/);\n                        if (scoreMatch) {\n                            setEvaluation((parseInt(scoreMatch[1], 10) / 100).toFixed(2));\n                        }\n                    }\n                    if (message.includes('info depth') && message.includes(' pv ')) {\n                        const moves = message.split(' pv ')[1].split(' ');\n                        const topEngineMoves = [];\n                        const tempGame = new Chess(currentGameForEngine.current.fen());\n                        for (let i = 0; i < Math.min(3, moves.length); i++) {\n                            try {\n                                const moveResult = tempGame.move(moves[i], { sloppy: true });\n                                if (moveResult) {\n                                    topEngineMoves.push(moveResult.san);\n                                    tempGame.undo();\n                                }\n                            } catch (e) { /* ignore */ }\n                        }\n                        setTopMoves(topEngineMoves);\n                    }\n                }\n            };\n    \n            worker.addEventListener('message', onMessage);\n    \n            worker.onerror = (e) => {\n                 setEngineStatus(`Error: Could not load Stockfish. Make sure stockfish-17-lite-single.js and .wasm are in /public.`);\n                 console.error(\"Stockfish worker error:\", e);\n            };\n    \n            worker.postMessage('uci');\n    \n            return () => {\n                worker.removeEventListener('message', onMessage);\n                worker.terminate();\n            };\n        } catch (error) {\n            setEngineStatus('Failed to load worker.');\n            console.error(\"Failed to initialize Stockfish worker:\", error);\n        }\n    }, []);\n    \n\n    const getEvaluation = (fen) => {\n        if (engineStatus !== 'Ready' || !stockfish.current) return;\n        setEvaluation('...');\n        setTopMoves([]);\n        stockfish.current.postMessage(`position fen ${fen}`);\n        stockfish.current.postMessage('go depth 15');\n    };\n\n    const handleLoadPgn = () => {\n        setPgnError('');\n        const newGame = new Chess();\n        try {\n            let pgnString = pgn.trim();\n            const tagRegex = /\\[\\s*(\\w+)\\s*\"([^\"]*)\"\\s*\\]/g;\n            const tags = pgnString.match(tagRegex) || [];\n            const movetext = pgnString.replace(tagRegex, '').trim();\n            const cleanedMovetext = movetext\n                .replace(/\\{[^}]*?\\}/g, '')\n                .replace(/\\([^)]*?\\)/g, '')\n                .replace(/\\$\\d+/g, '')\n                .replace(/[\\r\\n\\t]+/g, ' ')\n                .trim();\n            const cleanedPgn = tags.join('\\n') + '\\n\\n' + cleanedMovetext;\n            newGame.loadPgn(cleanedPgn);\n\n            if (newGame.history().length === 0) {\n                throw new Error(\"The PGN was loaded, but it contains no moves.\");\n            }\n            const startingFen = new Chess().fen();\n            setGame(new Chess(startingFen));\n            currentGameForEngine.current = new Chess(startingFen);\n            setHistory(newGame.history({ verbose: true }));\n            setCurrentMove(-1);\n            getEvaluation(startingFen);\n\n        } catch (e) {\n            setPgnError(e.message || \"An unexpected error occurred while loading the PGN.\");\n            setGame(new Chess());\n            setHistory([]);\n            setCurrentMove(-1);\n            setEvaluation('');\n            setTopMoves([]);\n        }\n    };\n\n    const navigateToMove = (index) => {\n        const newGame = new Chess();\n        const fullHistory = history.map(h => h.san);\n        for (let i = 0; i <= index; i++) {\n            newGame.move(fullHistory[i]);\n        }\n        setGame(newGame);\n        currentGameForEngine.current = new Chess(newGame.fen());\n        setCurrentMove(index);\n        getEvaluation(newGame.fen());\n    };\n\n    const isGameLoaded = history.length > 0;\n\nconst EvaluationBar = ({ score }) => {\n        const numScore = parseFloat(score);\n        if (isNaN(numScore)) return null;\n        const clampedScore = Math.max(-10, Math.min(10, numScore));\n        const percentage = 50 + (clampedScore * 5);\n        \n        // Determine color based on evaluation\n        const getEvalColor = (score) => {\n            if (score > 2) return 'text-green-600 dark:text-green-400';\n            if (score > 0.5) return 'text-green-500 dark:text-green-300';\n            if (score < -2) return 'text-red-600 dark:text-red-400';\n            if (score < -0.5) return 'text-red-500 dark:text-red-300';\n            return 'text-gray-600 dark:text-gray-400';\n        };\n\n        return (\n            <div className=\"my-4\">\n                <div className=\"flex justify-between items-center mb-2\">\n                    <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Position Evaluation</span>\n                    <span className={`text-lg font-bold ${getEvalColor(numScore)}`}>\n                        {numScore > 0 ? '+' : ''}{score}\n                    </span>\n                </div>\n                <div className=\"w-full bg-gray-700 rounded-full h-6 dark:bg-gray-800 relative overflow-hidden\">\n                    <div className=\"bg-white h-6 rounded-full\" style={{ width: `${percentage}%`, transition: 'width 0.3s ease-in-out' }} />\n                    <div className=\"absolute inset-0 flex items-center justify-center text-xs font-medium text-black mix-blend-difference\">\n                        White advantage ← → Black advantage\n                    </div>\n                </div>\n                <div className=\"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                    <span>Black</span>\n                    <span>Equal</span>\n                    <span>White</span>\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <h1 className=\"text-4xl font-bold mb-8 text-gray-800 dark:text-gray-200\">Game Analysis</h1>\n\n            <div className=\"flex flex-col lg:flex-row gap-8 items-start\">\n                <div className=\"w-full lg:w-auto\">\n                    <Chessboard position={game.fen()} boardWidth={400} />\n                    {isGameLoaded && <EvaluationBar score={evaluation} />}\n                </div>\n                <div className=\"w-full lg:flex-1 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n                    <h2 className=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">PGN Loader</h2>\n                    <div className=\"flex items-center mb-2\">\n                        <span className=\"font-semibold mr-2 text-gray-700 dark:text-gray-300\">Engine Status:</span>\n                        <span className={`px-2 py-1 text-xs font-bold rounded-full ${engineStatus === 'Ready' ? 'bg-green-200 text-green-800' : 'bg-yellow-200 text-yellow-800'}`}>{engineStatus}</span>\n                    </div>\n                    <textarea\n                        value={pgn}\n                        onChange={(e) => setPgn(e.target.value)}\n                        placeholder=\"Paste PGN here to load a game...\"\n                        className=\"w-full h-32 p-2 border rounded-md bg-white dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600\"\n                    />\n                    {pgnError && <p className=\"text-red-500 text-sm mt-2\">{pgnError}</p>}\n                    <button\n                        onClick={handleLoadPgn}\n                        disabled={engineStatus !== 'Ready'}\n                        className=\"mt-4 w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition disabled:bg-gray-400\"\n                    >\n                        Load Game & Analyze\n                    </button>\n                    {isGameLoaded && (\n                        <div className=\"mt-6\">\n                            <h3 className=\"text-lg font-semibold text-gray-700 dark:text-gray-300\">Top Engine Moves:</h3>\n                            <ul className=\"list-decimal list-inside mt-2 text-gray-600 dark:text-gray-400\">\n                                {topMoves.map((move, index) => <li key={index}>{move}</li>)}\n                            </ul>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {isGameLoaded && (\n                <div className=\"mt-8 bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md\">\n                    <h2 className=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">Moves</h2>\n                    <div className=\"flex flex-wrap gap-2\">\n                        <button onClick={() => navigateToMove(-1)} className={`px-3 py-1 text-sm rounded-md ${currentMove === -1 ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-700 dark:text-gray-300'}`}>Start</button>\n                        {history.map((move, index) => (\n                            <button key={index} onClick={() => navigateToMove(index)} className={`px-3 py-1 text-sm rounded-md ${currentMove === index ? 'bg-indigo-600 text-white' : 'bg-gray-200 dark:bg-gray-700 dark:text-gray-300'}`}>\n                                {Math.floor(index / 2) + 1}.{index % 2 === 0 ? '' : '..'} {move.san}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default function App() {\n    const [theme, setTheme] = useTheme();\n    const [activeTab, setActiveTab] = useState('Dashboard');\n    const [currentRatings, setCurrentRatings] = useState([]);\n    const [ratingHistory, setRatingHistory] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    const loadAllData = useCallback(async () => {\n        setLoading(true);\n        setError(null);\n        try {\n            const ratingsData = await fetchData('/ratings/current');\n            const historyData = await fetchData('/ratings/history');\n\n            if (!Array.isArray(ratingsData) || !Array.isArray(historyData)) {\n                throw new Error(\"Data from API is not in the expected format.\");\n            }\n\n            const friendUsernameMap = FRIENDS.reduce((acc, curr) => {\n                acc[curr.name] = curr.username;\n                return acc;\n            }, {});\n\n            const ratingsWithChanges = ratingsData.map(player => {\n                const username = friendUsernameMap[player.friend_name];\n                const initialRatings = MANUAL_INITIAL_RATINGS[username];\n\n                const rapid_change = initialRatings ? player.rapid_rating - initialRatings.Rapid : 0;\n                const blitz_change = initialRatings ? player.blitz_rating - initialRatings.Blitz : 0;\n                const bullet_change = initialRatings ? player.bullet_rating - initialRatings.Bullet : 0;\n\n                return {\n                    ...player,\n                    rapid_change,\n                    blitz_change,\n                    bullet_change\n                };\n            });\n\n            setCurrentRatings(ratingsWithChanges);\n            setRatingHistory(historyData);\n        } catch (e) {\n            setError(\"Could not connect to the backend API. Please ensure the 'api.py' server is running.\");\n            console.error(e);\n        } finally {\n            setLoading(false);\n        }\n    }, []);\n\n    useEffect(() => {\n        loadAllData();\n    }, [loadAllData]);\n\n    const renderTab = () => {\n        if (loading) return <div className=\"text-center p-10 text-gray-700 dark:text-gray-300\">Loading data from backend...</div>;\n        if (error) return <div className=\"text-center p-10 text-red-500 font-semibold\">{error}</div>;\n        switch (activeTab) {\n            case 'Dashboard': return <Dashboard friends={FRIENDS} currentRatings={currentRatings} ratingHistory={ratingHistory} theme={theme} />;\n            case 'Player Stats': return <PlayerStats friends={FRIENDS} theme={theme} />;\n            case 'Game Analysis': return <GameAnalysis theme={theme} />;\n            default: return <Dashboard friends={FRIENDS} currentRatings={currentRatings} ratingHistory={ratingHistory} theme={theme} />;\n        }\n    };\n\n    const NavItem = ({ name }) => (\n        <button onClick={() => setActiveTab(name)} className={`w-full text-left px-4 py-2.5 rounded-lg text-md transition-colors ${activeTab === name ? 'bg-indigo-100 dark:bg-gray-700 text-indigo-700 dark:text-gray-100 font-semibold' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-gray-100'}`}>\n            {name}\n        </button>\n    );\n\n    const toggleTheme = () => setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n\n    return (\n        <div className=\"flex h-screen bg-gray-100 dark:bg-gray-900 font-sans\">\n            <aside className=\"w-64 bg-white dark:bg-gray-800 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 flex flex-col\">\n                <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n                    <h1 className=\"text-2xl font-bold text-gray-800 dark:text-gray-200\">♟️ Chess App</h1>\n                </div>\n                <nav className=\"p-4 space-y-2 flex-grow\">\n                    <NavItem name=\"Dashboard\" />\n                    <NavItem name=\"Player Stats\" />\n                    <NavItem name=\"Game Analysis\" />\n                </nav>\n                <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\n                    <button onClick={toggleTheme} className=\"w-full flex items-center justify-center p-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\">\n                        {theme === 'light' ? <MoonIcon /> : <SunIcon />}\n                        <span className=\"ml-2\">Switch Theme</span>\n                    </button>\n                </div>\n            </aside>\n            <main className=\"flex-1 overflow-y-auto p-8\">\n                {renderTab()}\n            </main>\n        </div>\n    );\n}\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,SAAS,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,EAAEC,aAAa,EAAEC,OAAO,EAAEC,MAAM,EAAEC,mBAAmB,EAAEC,QAAQ,EAAEC,GAAG,QAAQ,UAAU;AAC5H,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,KAAK,QAAQ,UAAU;;AAEhC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,OAAO,GAAG,CACZ;EAAEC,IAAI,EAAE,QAAQ;EAAEC,QAAQ,EAAE;AAAa,CAAC,EAC1C;EAAED,IAAI,EAAE,OAAO;EAAEC,QAAQ,EAAE;AAAa,CAAC,EACzC;EAAED,IAAI,EAAE,QAAQ;EAAEC,QAAQ,EAAE;AAAgB,CAAC,EAC7C;EAAED,IAAI,EAAE,MAAM;EAAEC,QAAQ,EAAE;AAAU,CAAC,EACrC;EAAED,IAAI,EAAE,OAAO;EAAEC,QAAQ,EAAE;AAAU,CAAC,CACzC;AAED,MAAMC,sBAAsB,GAAG;EAC3B,YAAY,EAAE;IAAE,OAAO,EAAE,IAAI;IAAE,OAAO,EAAE,IAAI;IAAE,QAAQ,EAAE;EAAK,CAAC;EAC9D,YAAY,EAAE;IAAE,OAAO,EAAE,IAAI;IAAE,OAAO,EAAE,GAAG;IAAE,QAAQ,EAAE;EAAI,CAAC;EAC5D,eAAe,EAAE;IAAE,OAAO,EAAE,IAAI;IAAE,OAAO,EAAE,IAAI;IAAE,QAAQ,EAAE;EAAI,CAAC;EAChE,SAAS,EAAE;IAAE,OAAO,EAAE,GAAG;IAAE,OAAO,EAAE,GAAG;IAAE,QAAQ,EAAE;EAAI,CAAC;EACxD,SAAS,EAAE;IAAE,OAAO,EAAE,GAAG;IAAE,OAAO,EAAE,GAAG;IAAE,QAAQ,EAAE;EAAI;AAC3D,CAAC;;AAGD;AACA,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,MAAM4B,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC;EAClF5B,SAAS,CAAC,MAAM;IACZ,MAAM6B,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACC,eAAe;IAC5CH,IAAI,CAACI,SAAS,CAACC,MAAM,CAACT,KAAK,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;IAC3DI,IAAI,CAACI,SAAS,CAACE,GAAG,CAACV,KAAK,CAAC;IACzBE,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEX,KAAK,CAAC;EACxC,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EACX,OAAO,CAACA,KAAK,EAAEC,QAAQ,CAAC;AAC5B,CAAC;;AAED;AAAAF,EAAA,CAXMD,QAAQ;AAYd,MAAMc,YAAY,GAAG,2BAA2B;AAGhD,eAAeC,SAASA,CAACC,QAAQ,EAAE;EAC/B,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,YAAY,GAAGE,QAAQ,EAAE,CAAC;IAC1D,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,mCAAmCJ,QAAQ,EAAE,CAAC;IAChF,OAAO,MAAMC,QAAQ,CAACI,IAAI,CAAC,CAAC;EAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,mBAAmBN,QAAQ,GAAG,EAAEM,KAAK,CAAC;IACpD,OAAO,EAAE;EACb;AACJ;;AAGA;AACA,MAAME,OAAO,GAAGA,CAAA,kBAAM/B,OAAA;EAAKgC,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,OAAO,EAAC,WAAW;EAACC,IAAI,EAAC,MAAM;EAACC,MAAM,EAAC,cAAc;EAACC,WAAW,EAAC,GAAG;EAACC,aAAa,EAAC,OAAO;EAACC,cAAc,EAAC,OAAO;EAAAC,QAAA,gBAACzC,OAAA;IAAQ0C,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,CAAC,EAAC;EAAG;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAS,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC;EAAG;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC;EAAI;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC;EAAM;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC;EAAO;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,GAAG;IAACC,EAAE,EAAC;EAAI;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC,IAAI;IAACC,EAAE,EAAC;EAAI;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC;EAAO;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC,eAAAhD,OAAA;IAAMiD,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC,MAAM;IAACC,EAAE,EAAC,OAAO;IAACC,EAAE,EAAC;EAAM;IAAAP,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC;AAAA;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAK,CAAC;AAACK,EAAA,GAA5nBtB,OAAO;AACb,MAAMuB,QAAQ,GAAGA,CAAA,kBAAMtD,OAAA;EAAKgC,KAAK,EAAC,4BAA4B;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,OAAO,EAAC,WAAW;EAACC,IAAI,EAAC,MAAM;EAACC,MAAM,EAAC,cAAc;EAACC,WAAW,EAAC,GAAG;EAACC,aAAa,EAAC,OAAO;EAACC,cAAc,EAAC,OAAO;EAAAC,QAAA,eAACzC,OAAA;IAAMuD,CAAC,EAAC;EAAiD;IAAAV,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAK,CAAC;AAACQ,GAAA,GAA3QF,QAAQ;AAEd,SAASG,SAASA,CAAC;EAAEC,cAAc;EAAEC,aAAa;EAAElD;AAAM,CAAC,EAAE;EAAAmD,GAAA;EACzD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG/E,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgF,eAAe,EAAEC,kBAAkB,CAAC,GAAGjF,QAAQ,CAAC,MAAMoB,OAAO,CAAC8D,GAAG,CAACC,CAAC,IAAIA,CAAC,CAAC9D,IAAI,CAAC,CAAC;EACtF,MAAM,CAAC+D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrF,QAAQ,CAAC,OAAO,CAAC;EAEjEC,SAAS,CAAC,MAAM;IACZ,MAAMqF,cAAc,GAAGV,aAAa,CAACW,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAACC,QAAQ,CAACN,gBAAgB,CAAC,CAAC;IAEvF,MAAMO,YAAY,GAAGX,eAAe,CAACE,GAAG,CAACU,MAAM,IAAI;MAC/C,OAAON,cAAc,CAChBC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACK,WAAW,KAAKD,MAAM,CAAC,CACrCV,GAAG,CAACM,CAAC,KAAK;QACPM,IAAI,EAAE,IAAIC,IAAI,CAACP,CAAC,CAACQ,SAAS,CAAC,CAACC,OAAO,CAAC,CAAC;QACrCC,MAAM,EAAEV,CAAC,CAACU,MAAM;QAChBN,MAAM,EAAEA;MACZ,CAAC,CAAC,CAAC,CACFO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACN,IAAI,GAAGO,CAAC,CAACP,IAAI,CAAC;IACxC,CAAC,CAAC;IAEF,MAAMQ,QAAQ,GAAG,CAAC,GAAG,IAAIC,GAAG,CAACjB,cAAc,CAACJ,GAAG,CAACM,CAAC,IAAI,IAAIO,IAAI,CAACP,CAAC,CAACQ,SAAS,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IAE7G,MAAMG,aAAa,GAAGF,QAAQ,CAACpB,GAAG,CAACY,IAAI,IAAI;MACvC,MAAMW,OAAO,GAAG,IAAIV,IAAI,CAACD,IAAI,CAAC,CAACY,kBAAkB,CAAC,CAAC;MACnD,MAAMC,SAAS,GAAG;QAAEb,IAAI,EAAEW;MAAQ,CAAC;MACnCd,YAAY,CAACiB,OAAO,CAACC,MAAM,IAAI;QAC3B,IAAIA,MAAM,CAACC,MAAM,GAAG,CAAC,EAAE;UACnB,MAAMC,UAAU,GAAGF,MAAM,CAAC,CAAC,CAAC,CAACjB,MAAM;UACnC,MAAMoB,YAAY,GAAGH,MAAM,CAACI,IAAI,CAACC,CAAC,IAAI,IAAInB,IAAI,CAACmB,CAAC,CAACpB,IAAI,CAAC,CAACY,kBAAkB,CAAC,CAAC,KAAKD,OAAO,CAAC;UACxFE,SAAS,CAACI,UAAU,CAAC,GAAGC,YAAY,GAAGA,YAAY,CAACd,MAAM,GAAG,IAAI;QACrE;MACJ,CAAC,CAAC;MACF,OAAOS,SAAS;IACpB,CAAC,CAAC;;IAEF;IACA,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,aAAa,CAACM,MAAM,EAAEK,CAAC,EAAE,EAAE;MAC3C,KAAK,MAAMvB,MAAM,IAAIZ,eAAe,EAAE;QAClC,IAAIwB,aAAa,CAACW,CAAC,CAAC,CAACvB,MAAM,CAAC,KAAK,IAAI,IAAIY,aAAa,CAACW,CAAC,CAAC,CAACvB,MAAM,CAAC,KAAKwB,SAAS,EAAE;UAC7EZ,aAAa,CAACW,CAAC,CAAC,CAACvB,MAAM,CAAC,GAAGY,aAAa,CAACW,CAAC,GAAG,CAAC,CAAC,CAACvB,MAAM,CAAC;QAC3D;MACJ;IACJ;IAEAb,YAAY,CAACyB,aAAa,CAAC;EAE/B,CAAC,EAAE,CAAC5B,aAAa,EAAEI,eAAe,EAAEI,gBAAgB,CAAC,CAAC;EAEtD,MAAMiC,qBAAqB,GAAIN,UAAU,IAAK;IAC1C9B,kBAAkB,CAACqC,IAAI,IACnBA,IAAI,CAAC5B,QAAQ,CAACqB,UAAU,CAAC,GAAGO,IAAI,CAAC/B,MAAM,CAAC2B,CAAC,IAAIA,CAAC,KAAKH,UAAU,CAAC,GAAG,CAAC,GAAGO,IAAI,EAAEP,UAAU,CACzF,CAAC;EACL,CAAC;EAED,MAAMQ,UAAU,GAAG7F,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS;EAC3D,MAAM8F,SAAS,GAAG9F,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS;EAC1D,MAAM+F,YAAY,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;EAE5E,oBACIxG,OAAA;IAAAyC,QAAA,gBACIzC,OAAA;MAAIyG,SAAS,EAAC,0DAA0D;MAAAhE,QAAA,EAAC;IAAsB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpGhD,OAAA;MAAKyG,SAAS,EAAC,0DAA0D;MAAAhE,QAAA,gBACrEzC,OAAA;QAAIyG,SAAS,EAAC,8DAA8D;QAAAhE,QAAA,EAAC;MAAe;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjGhD,OAAA;QAAKyG,SAAS,EAAC,iBAAiB;QAAAhE,QAAA,eAC5BzC,OAAA;UAAOyG,SAAS,EAAC,YAAY;UAAAhE,QAAA,gBACzBzC,OAAA;YAAOyG,SAAS,EAAC,iDAAiD;YAAAhE,QAAA,eAC9DzC,OAAA;cAAAyC,QAAA,gBACIzC,OAAA;gBAAIyG,SAAS,EAAC,qGAAqG;gBAAAhE,QAAA,EAAC;cAAM;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/HhD,OAAA;gBAAIyG,SAAS,EAAC,qGAAqG;gBAAAhE,QAAA,EAAC;cAAK;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9HhD,OAAA;gBAAIyG,SAAS,EAAC,qGAAqG;gBAAAhE,QAAA,EAAC;cAAK;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9HhD,OAAA;gBAAIyG,SAAS,EAAC,qGAAqG;gBAAAhE,QAAA,EAAC;cAAM;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/H;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACRhD,OAAA;YAAAyC,QAAA,EACKiB,cAAc,CAACO,GAAG,CAAEU,MAAM,iBACvB3E,OAAA;cAA6ByG,SAAS,EAAC,gEAAgE;cAAAhE,QAAA,gBACnGzC,OAAA;gBAAIyG,SAAS,EAAC,kFAAkF;gBAAAhE,QAAA,EAAEkC,MAAM,CAAC+B;cAAW;gBAAA7D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC1HhD,OAAA;gBAAIyG,SAAS,EAAC,sEAAsE;gBAAAhE,QAAA,GAC/EkC,MAAM,CAACgC,YAAY,eACpB3G,OAAA;kBAAMyG,SAAS,EAAE9B,MAAM,CAACiC,YAAY,IAAI,CAAC,GAAG,gBAAgB,GAAG,cAAe;kBAAAnE,QAAA,GAAC,GAC1E,EAACkC,MAAM,CAACiC,YAAY,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,EAAEjC,MAAM,CAACiC,YAAY,EAAC,GAC/D;gBAAA;kBAAA/D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC,eACLhD,OAAA;gBAAIyG,SAAS,EAAC,sEAAsE;gBAAAhE,QAAA,GAC/EkC,MAAM,CAACkC,YAAY,eACpB7G,OAAA;kBAAMyG,SAAS,EAAE9B,MAAM,CAACmC,YAAY,IAAI,CAAC,GAAG,gBAAgB,GAAG,cAAe;kBAAArE,QAAA,GAAC,GAC1E,EAACkC,MAAM,CAACmC,YAAY,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,EAAEnC,MAAM,CAACmC,YAAY,EAAC,GAC/D;gBAAA;kBAAAjE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC,eACLhD,OAAA;gBAAIyG,SAAS,EAAC,sEAAsE;gBAAAhE,QAAA,GAC/EkC,MAAM,CAACoC,aAAa,eACrB/G,OAAA;kBAAMyG,SAAS,EAAE9B,MAAM,CAACqC,aAAa,IAAI,CAAC,GAAG,gBAAgB,GAAG,cAAe;kBAAAvE,QAAA,GAAC,GAC3E,EAACkC,MAAM,CAACqC,aAAa,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,EAAErC,MAAM,CAACqC,aAAa,EAAC,GACjE;gBAAA;kBAAAnE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GAnBA2B,MAAM,CAAC+B,WAAW;cAAA7D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAoBvB,CACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACNhD,OAAA;MAAKyG,SAAS,EAAC,oDAAoD;MAAAhE,QAAA,gBAC/DzC,OAAA;QAAIyG,SAAS,EAAC,8DAA8D;QAAAhE,QAAA,EAAC;MAAkB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpGhD,OAAA;QAAKyG,SAAS,EAAC,wCAAwC;QAAAhE,QAAA,gBACnDzC,OAAA;UAAAyC,QAAA,gBACIzC,OAAA;YAAOyG,SAAS,EAAC,qDAAqD;YAAAhE,QAAA,EAAC;UAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxFhD,OAAA;YAAQiH,QAAQ,EAAGC,CAAC,IAAK9C,mBAAmB,CAAC8C,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;YAACA,KAAK,EAAEjD,gBAAiB;YAACsC,SAAS,EAAC,yFAAyF;YAAAhE,QAAA,gBACtLzC,OAAA;cAAAyC,QAAA,EAAQ;YAAK;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtBhD,OAAA;cAAAyC,QAAA,EAAQ;YAAK;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtBhD,OAAA;cAAAyC,QAAA,EAAQ;YAAM;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACNhD,OAAA;UAAAyC,QAAA,gBACIzC,OAAA;YAAOyG,SAAS,EAAC,qDAAqD;YAAAhE,QAAA,EAAC;UAAQ;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvFhD,OAAA;YAAKyG,SAAS,EAAC,6BAA6B;YAAAhE,QAAA,EACvCtC,OAAO,CAAC8D,GAAG,CAACoD,MAAM,iBACfrH,OAAA;cAA0BsH,OAAO,EAAEA,CAAA,KAAMlB,qBAAqB,CAACiB,MAAM,CAACjH,IAAI,CAAE;cAACqG,SAAS,EAAE,oDAAoD1C,eAAe,CAACU,QAAQ,CAAC4C,MAAM,CAACjH,IAAI,CAAC,GAAG,0BAA0B,GAAG,iDAAiD,EAAG;cAAAqC,QAAA,EAChQ4E,MAAM,CAACjH;YAAI,GADHiH,MAAM,CAACjH,IAAI;cAAAyC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEhB,CACX;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACNhD,OAAA;QAAKuH,KAAK,EAAE;UAAErF,MAAM,EAAE;QAAQ,CAAE;QAAAO,QAAA,eAC5BzC,OAAA,CAACN,mBAAmB;UAACuC,KAAK,EAAC,MAAM;UAACC,MAAM,EAAC,MAAM;UAAAO,QAAA,eAC3CzC,OAAA,CAACb,SAAS;YAACqI,IAAI,EAAE3D,SAAU;YAAApB,QAAA,gBACvBzC,OAAA,CAACT,aAAa;cAACkI,eAAe,EAAC,KAAK;cAACpF,MAAM,EAAEkE;YAAU;cAAA1D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC1DhD,OAAA,CAACX,KAAK;cAACqI,OAAO,EAAC,MAAM;cAACrF,MAAM,EAAEiE;YAAW;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC5ChD,OAAA,CAACV,KAAK;cAACqI,MAAM,EAAE,CAAC,cAAc,EAAE,cAAc,CAAE;cAACtF,MAAM,EAAEiE;YAAW;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACvEhD,OAAA,CAACR,OAAO;cAACoI,YAAY,EAAE;gBAAEC,eAAe,EAAEpH,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS;gBAAEqH,MAAM,EAAE,aAAavB,SAAS;cAAG;YAAE;cAAA1D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAC1HhD,OAAA,CAACP,MAAM;cAACsI,YAAY,EAAE;gBAAEC,KAAK,EAAE1B;cAAW;YAAE;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EAC9C7C,OAAO,CAAC8D,GAAG,CAAC,CAACoD,MAAM,EAAEY,KAAK,KACvBlE,eAAe,CAACU,QAAQ,CAAC4C,MAAM,CAACjH,IAAI,CAAC,iBAAIJ,OAAA,CAACZ,IAAI;cAAmB8I,IAAI,EAAC,UAAU;cAACR,OAAO,EAAEL,MAAM,CAACjH,IAAK;cAACiC,MAAM,EAAEmE,YAAY,CAACyB,KAAK,GAAGzB,YAAY,CAACX,MAAM,CAAE;cAACvD,WAAW,EAAE,CAAE;cAAC6F,YAAY;YAAA,GAAlId,MAAM,CAACjH,IAAI;cAAAyC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAyH,CAC3L,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACY,GAAA,CA3IQH,SAAS;AAAA2E,GAAA,GAAT3E,SAAS;AA6IlB,SAAS4E,WAAWA,CAAC;EAAE5H;AAAM,CAAC,EAAE;EAAA6H,GAAA;EAAA,IAAAC,iBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA,EAAAC,kBAAA,EAAAC,qBAAA;EAC5B,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGrK,QAAQ,CAACoB,OAAO,CAAC,CAAC,CAAC,CAACE,QAAQ,CAAC;EACzE,MAAM,CAACgJ,UAAU,EAAEC,aAAa,CAAC,GAAGvK,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACwK,QAAQ,EAAEC,WAAW,CAAC,GAAGzK,QAAQ,CAAC;IAAE0K,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAG,CAAC,CAAC;EAClE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG7K,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,MAAM6K,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACnCD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACA,MAAM,CAACE,KAAK,EAAEC,aAAa,EAAEC,aAAa,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC5DzI,KAAK,CAAC,oCAAoC0H,cAAc,QAAQ,CAAC,CAACgB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACxI,IAAI,CAAC,CAAC,CAAC,EACzFN,SAAS,CAAC,mBAAmB6H,cAAc,EAAE,CAAC,EAC9C7H,SAAS,CAAC,mBAAmB6H,cAAc,EAAE,CAAC,CACjD,CAAC;QACFG,aAAa,CAAC;UAAEQ;QAAM,CAAC,CAAC;QACxBN,WAAW,CAAC;UAAEC,KAAK,EAAEM,aAAa;UAAEL,KAAK,EAAEM;QAAc,CAAC,CAAC;MAC/D,CAAC,CAAC,OAAOnI,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACxD,CAAC,SAAS;QACN+H,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDC,kBAAkB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACV,cAAc,CAAC,CAAC;EAEpB,MAAM7C,UAAU,GAAG7F,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG,SAAS;EAE3D,MAAM4J,YAAY,GAAGA,CAAC;IAAE7C,IAAI;IAAEQ,KAAK;IAAEsC;EAAM,CAAC,KAAK;IAC7C,IAAI,CAAC9C,IAAI,IAAIA,IAAI,CAAC3B,MAAM,KAAK,CAAC,EAAE;MAC5B,oBACI7F,OAAA;QAAAyC,QAAA,gBACIzC,OAAA;UAAIyG,SAAS,EAAC,yEAAyE;UAAAhE,QAAA,EAAE6H;QAAK;UAAAzH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACpGhD,OAAA;UAAKyG,SAAS,EAAC,0EAA0E;UAAAhE,QAAA,EAAC;QAA0B;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzH,CAAC;IAEd;IACA,oBACIhD,OAAA;MAAAyC,QAAA,gBACIzC,OAAA;QAAIyG,SAAS,EAAC,yEAAyE;QAAAhE,QAAA,EAAE6H;MAAK;QAAAzH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACpGhD,OAAA;QAAKuH,KAAK,EAAE;UAAErF,MAAM,EAAE;QAAQ,CAAE;QAAAO,QAAA,eAC5BzC,OAAA,CAACN,mBAAmB;UAACuC,KAAK,EAAC,MAAM;UAACC,MAAM,EAAC,MAAM;UAAAO,QAAA,eAC3CzC,OAAA,CAACL,QAAQ;YAAC6H,IAAI,EAAEA,IAAK;YAAC+C,MAAM,EAAC,UAAU;YAACC,MAAM,EAAE;cAAEC,GAAG,EAAE,CAAC;cAAEC,KAAK,EAAE,EAAE;cAAEC,IAAI,EAAE,GAAG;cAAEC,MAAM,EAAE;YAAE,CAAE;YAAAnI,QAAA,gBACxFzC,OAAA,CAACT,aAAa;cAACkI,eAAe,EAAC;YAAK;cAAA5E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACvChD,OAAA,CAACX,KAAK;cAAC6I,IAAI,EAAC,QAAQ;cAACR,OAAO,EAAC,cAAc;cAACrF,MAAM,EAAEiE;YAAW;cAAAzD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClEhD,OAAA,CAACV,KAAK;cAAC4I,IAAI,EAAC,UAAU;cAACR,OAAO,EAAC,cAAc;cAACzF,KAAK,EAAE,GAAI;cAACI,MAAM,EAAEiE,UAAW;cAACuE,IAAI,EAAE;gBAAEC,QAAQ,EAAE;cAAG;YAAE;cAAAjI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACxGhD,OAAA,CAACR,OAAO;cAACoI,YAAY,EAAE;gBAAEC,eAAe,EAAEpH,KAAK,KAAK,MAAM,GAAG,SAAS,GAAG;cAAU,CAAE;cAACsK,SAAS,EAAEA,CAAC3D,KAAK,EAAEhH,IAAI,EAAE4K,KAAK,KAAK;gBACrH,IAAI5K,IAAI,KAAK,cAAc,EAAE;kBACzB,MAAM;oBAAE6K,IAAI;oBAAEC,MAAM;oBAAEC;kBAAM,CAAC,GAAGH,KAAK,CAACI,OAAO;kBAC7C,OAAO,GAAGhE,KAAK,QAAQ6D,IAAI,QAAQC,MAAM,QAAQC,KAAK,GAAG;gBAC7D;gBACA,OAAO/D,KAAK;cAChB;YAAE;cAAAvE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACLhD,OAAA,CAACJ,GAAG;cAAC8H,OAAO,EAAC,cAAc;cAACtF,IAAI,EAAE4F;YAAM;cAAAnF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd,CAAC;EAED,MAAMqI,QAAQ,GAAGA,CAAC;IAAEf,KAAK;IAAErF,MAAM;IAAEqG;EAAO,CAAC,kBACvCtL,OAAA;IAAKyG,SAAS,EAAC,gEAAgE;IAAAhE,QAAA,gBAC3EzC,OAAA;MAAIyG,SAAS,EAAC,wDAAwD;MAAAhE,QAAA,EAAE6H;IAAK;MAAAzH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACnFhD,OAAA;MAAGyG,SAAS,EAAC,0DAA0D;MAAAhE,QAAA,EAAEwC,MAAM,IAAI;IAAK;MAAApC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7FhD,OAAA;MAAGyG,SAAS,EAAC,0CAA0C;MAAAhE,QAAA,GAAC,KAAG,EAAC,CAAA6I,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,GAAG,KAAI,CAAC,EAAC,QAAM,EAAC,CAAAD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,IAAI,KAAI,CAAC,EAAC,QAAM,EAAC,CAAAF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,IAAI,KAAI,CAAC;IAAA;MAAA5I,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClI,CACR;EAED,oBACIhD,OAAA;IAAAyC,QAAA,gBACIzC,OAAA;MAAIyG,SAAS,EAAC,0DAA0D;MAAAhE,QAAA,EAAC;IAAY;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1FhD,OAAA;MAAKyG,SAAS,EAAC,MAAM;MAAAhE,QAAA,gBACjBzC,OAAA;QAAO0L,OAAO,EAAC,eAAe;QAACjF,SAAS,EAAC,iEAAiE;QAAAhE,QAAA,EAAC;MAAe;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAClIhD,OAAA;QAAQ2L,EAAE,EAAC,eAAe;QAACvE,KAAK,EAAE+B,cAAe;QAAClC,QAAQ,EAAEC,CAAC,IAAIkC,iBAAiB,CAAClC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;QAACX,SAAS,EAAC,0MAA0M;QAAAhE,QAAA,EACnTtC,OAAO,CAAC8D,GAAG,CAACoD,MAAM,iBAAIrH,OAAA;UAA8BoH,KAAK,EAAEC,MAAM,CAAChH,QAAS;UAAAoC,QAAA,EAAE4E,MAAM,CAACjH;QAAI,GAArDiH,MAAM,CAAChH,QAAQ;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAA+C,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,EACL2G,OAAO,gBAAG3J,OAAA;MAAGyG,SAAS,EAAC,8CAA8C;MAAAhE,QAAA,EAAC;IAAsB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,GAAGqG,UAAU,gBAC1GrJ,OAAA,CAAAE,SAAA;MAAAuC,QAAA,gBACIzC,OAAA;QAAKyG,SAAS,EAAC,uCAAuC;QAAAhE,QAAA,gBAClDzC,OAAA,CAACqL,QAAQ;UAACf,KAAK,EAAC,OAAO;UAACrF,MAAM,GAAAsD,iBAAA,GAAEc,UAAU,CAACS,KAAK,cAAAvB,iBAAA,wBAAAC,qBAAA,GAAhBD,iBAAA,CAAkBqD,WAAW,cAAApD,qBAAA,uBAA7BA,qBAAA,CAA+BqD,IAAI,CAAC5G,MAAO;UAACqG,MAAM,GAAA7C,kBAAA,GAAEY,UAAU,CAACS,KAAK,cAAArB,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBmD,WAAW,cAAAlD,qBAAA,uBAA7BA,qBAAA,CAA+B4C;QAAO;UAAAzI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7HhD,OAAA,CAACqL,QAAQ;UAACf,KAAK,EAAC,OAAO;UAACrF,MAAM,GAAA0D,kBAAA,GAAEU,UAAU,CAACS,KAAK,cAAAnB,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBmD,WAAW,cAAAlD,qBAAA,uBAA7BA,qBAAA,CAA+BiD,IAAI,CAAC5G,MAAO;UAACqG,MAAM,GAAAzC,kBAAA,GAAEQ,UAAU,CAACS,KAAK,cAAAjB,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBiD,WAAW,cAAAhD,qBAAA,uBAA7BA,qBAAA,CAA+BwC;QAAO;UAAAzI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7HhD,OAAA,CAACqL,QAAQ;UAACf,KAAK,EAAC,QAAQ;UAACrF,MAAM,GAAA8D,kBAAA,GAAEM,UAAU,CAACS,KAAK,cAAAf,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkBgD,YAAY,cAAA/C,qBAAA,uBAA9BA,qBAAA,CAAgC6C,IAAI,CAAC5G,MAAO;UAACqG,MAAM,GAAArC,kBAAA,GAAEI,UAAU,CAACS,KAAK,cAAAb,kBAAA,wBAAAC,qBAAA,GAAhBD,kBAAA,CAAkB8C,YAAY,cAAA7C,qBAAA,uBAA9BA,qBAAA,CAAgCoC;QAAO;UAAAzI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/H,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,0DAA0D;QAAAhE,QAAA,gBACrEzC,OAAA;UAAIyG,SAAS,EAAC,8DAA8D;UAAAhE,QAAA,EAAC;QAAiB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnGhD,OAAA;UAAKyG,SAAS,EAAC,uCAAuC;UAAAhE,QAAA,gBAClDzC,OAAA,CAACqK,YAAY;YAACC,KAAK,EAAC,UAAU;YAAC9C,IAAI,EAAE+B,QAAQ,CAACE,KAAM;YAACzB,KAAK,EAAC;UAAS;YAAAnF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACvEhD,OAAA,CAACqK,YAAY;YAACC,KAAK,EAAC,UAAU;YAAC9C,IAAI,EAAE+B,QAAQ,CAACG,KAAM;YAAC1B,KAAK,EAAC;UAAS;YAAAnF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA,eACR,CAAC,gBACHhD,OAAA;MAAAyC,QAAA,EAAG;IAA2B;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrC,CAAC;AAEd;AAACsF,GAAA,CAjGQD,WAAW;AAAA2D,GAAA,GAAX3D,WAAW;AAmGpB,SAAS4D,YAAYA,CAAA,EAAG;EAAAC,GAAA;EACpB,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGrN,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACsN,QAAQ,EAAEC,WAAW,CAAC,GAAGvN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACwN,IAAI,EAAEC,OAAO,CAAC,GAAGzN,QAAQ,CAAC,IAAIe,KAAK,CAAC,CAAC,CAAC;EAC7C,MAAM,CAAC2M,OAAO,EAAEC,UAAU,CAAC,GAAG3N,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC4N,WAAW,EAAEC,cAAc,CAAC,GAAG7N,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAAC8N,UAAU,EAAEC,aAAa,CAAC,GAAG/N,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgO,QAAQ,EAAEC,WAAW,CAAC,GAAGjO,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACkO,YAAY,EAAEC,eAAe,CAAC,GAAGnO,QAAQ,CAAC,YAAY,CAAC;EAC9D,MAAMoO,SAAS,GAAGlO,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMmO,oBAAoB,GAAGnO,MAAM,CAAC,IAAIa,KAAK,CAAC,CAAC,CAAC;EAEhDd,SAAS,CAAC,MAAM;IACZ,MAAMqO,aAAa,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,GAAG,8BAA8B;IAE7E,IAAIC,MAAM;IACV,IAAI;MACAA,MAAM,GAAG,IAAIC,MAAM,CAACL,aAAa,CAAC;MAClCF,SAAS,CAACQ,OAAO,GAAGF,MAAM;MAE1B,MAAMG,SAAS,GAAIC,KAAK,IAAK;QACzB,MAAMC,OAAO,GAAGC,MAAM,CAACF,KAAK,CAACrG,IAAI,CAAC;QAElC,IAAIsG,OAAO,KAAK,SAAS,EAAE;UACvBZ,eAAe,CAAC,OAAO,CAAC;QAC5B,CAAC,MAAM,IAAIY,OAAO,CAACE,UAAU,CAAC,OAAO,CAAC,EAAE;UACpCP,MAAM,CAACQ,WAAW,CAAC,SAAS,CAAC;QACjC,CAAC,MAAM;UACH,IAAIH,OAAO,CAACrJ,QAAQ,CAAC,UAAU,CAAC,EAAE;YAC9B,MAAMyJ,UAAU,GAAGJ,OAAO,CAACK,KAAK,CAAC,kBAAkB,CAAC;YACpD,IAAID,UAAU,EAAE;cACZpB,aAAa,CAAC,CAACsB,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,EAAEG,OAAO,CAAC,CAAC,CAAC,CAAC;YACjE;UACJ;UACA,IAAIP,OAAO,CAACrJ,QAAQ,CAAC,YAAY,CAAC,IAAIqJ,OAAO,CAACrJ,QAAQ,CAAC,MAAM,CAAC,EAAE;YAC5D,MAAM6J,KAAK,GAAGR,OAAO,CAACS,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC;YACjD,MAAMC,cAAc,GAAG,EAAE;YACzB,MAAMC,QAAQ,GAAG,IAAI3O,KAAK,CAACsN,oBAAoB,CAACO,OAAO,CAACe,GAAG,CAAC,CAAC,CAAC;YAC9D,KAAK,IAAIxI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyI,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEN,KAAK,CAACzI,MAAM,CAAC,EAAEK,CAAC,EAAE,EAAE;cAChD,IAAI;gBACA,MAAM2I,UAAU,GAAGJ,QAAQ,CAACK,IAAI,CAACR,KAAK,CAACpI,CAAC,CAAC,EAAE;kBAAE6I,MAAM,EAAE;gBAAK,CAAC,CAAC;gBAC5D,IAAIF,UAAU,EAAE;kBACZL,cAAc,CAACQ,IAAI,CAACH,UAAU,CAACI,GAAG,CAAC;kBACnCR,QAAQ,CAACS,IAAI,CAAC,CAAC;gBACnB;cACJ,CAAC,CAAC,OAAOhI,CAAC,EAAE,CAAE;YAClB;YACA8F,WAAW,CAACwB,cAAc,CAAC;UAC/B;QACJ;MACJ,CAAC;MAEDf,MAAM,CAAC0B,gBAAgB,CAAC,SAAS,EAAEvB,SAAS,CAAC;MAE7CH,MAAM,CAAC2B,OAAO,GAAIlI,CAAC,IAAK;QACnBgG,eAAe,CAAC,kGAAkG,CAAC;QACnHpL,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEqF,CAAC,CAAC;MAChD,CAAC;MAEDuG,MAAM,CAACQ,WAAW,CAAC,KAAK,CAAC;MAEzB,OAAO,MAAM;QACTR,MAAM,CAAC4B,mBAAmB,CAAC,SAAS,EAAEzB,SAAS,CAAC;QAChDH,MAAM,CAAC6B,SAAS,CAAC,CAAC;MACtB,CAAC;IACL,CAAC,CAAC,OAAOzN,KAAK,EAAE;MACZqL,eAAe,CAAC,wBAAwB,CAAC;MACzCpL,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAClE;EACJ,CAAC,EAAE,EAAE,CAAC;EAGN,MAAM0N,aAAa,GAAIb,GAAG,IAAK;IAC3B,IAAIzB,YAAY,KAAK,OAAO,IAAI,CAACE,SAAS,CAACQ,OAAO,EAAE;IACpDb,aAAa,CAAC,KAAK,CAAC;IACpBE,WAAW,CAAC,EAAE,CAAC;IACfG,SAAS,CAACQ,OAAO,CAACM,WAAW,CAAC,gBAAgBS,GAAG,EAAE,CAAC;IACpDvB,SAAS,CAACQ,OAAO,CAACM,WAAW,CAAC,aAAa,CAAC;EAChD,CAAC;EAED,MAAMuB,aAAa,GAAGA,CAAA,KAAM;IACxBlD,WAAW,CAAC,EAAE,CAAC;IACf,MAAMmD,OAAO,GAAG,IAAI3P,KAAK,CAAC,CAAC;IAC3B,IAAI;MACA,IAAI4P,SAAS,GAAGvD,GAAG,CAACwD,IAAI,CAAC,CAAC;MAC1B,MAAMC,QAAQ,GAAG,8BAA8B;MAC/C,MAAMC,IAAI,GAAGH,SAAS,CAACvB,KAAK,CAACyB,QAAQ,CAAC,IAAI,EAAE;MAC5C,MAAME,QAAQ,GAAGJ,SAAS,CAACK,OAAO,CAACH,QAAQ,EAAE,EAAE,CAAC,CAACD,IAAI,CAAC,CAAC;MACvD,MAAMK,eAAe,GAAGF,QAAQ,CAC3BC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAC1BA,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAC1BA,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CACrBA,OAAO,CAAC,YAAY,EAAE,GAAG,CAAC,CAC1BJ,IAAI,CAAC,CAAC;MACX,MAAMM,UAAU,GAAGJ,IAAI,CAACK,IAAI,CAAC,IAAI,CAAC,GAAG,MAAM,GAAGF,eAAe;MAC7DP,OAAO,CAACU,OAAO,CAACF,UAAU,CAAC;MAE3B,IAAIR,OAAO,CAAChD,OAAO,CAAC,CAAC,CAAC5G,MAAM,KAAK,CAAC,EAAE;QAChC,MAAM,IAAIlE,KAAK,CAAC,+CAA+C,CAAC;MACpE;MACA,MAAMyO,WAAW,GAAG,IAAItQ,KAAK,CAAC,CAAC,CAAC4O,GAAG,CAAC,CAAC;MACrClC,OAAO,CAAC,IAAI1M,KAAK,CAACsQ,WAAW,CAAC,CAAC;MAC/BhD,oBAAoB,CAACO,OAAO,GAAG,IAAI7N,KAAK,CAACsQ,WAAW,CAAC;MACrD1D,UAAU,CAAC+C,OAAO,CAAChD,OAAO,CAAC;QAAE4D,OAAO,EAAE;MAAK,CAAC,CAAC,CAAC;MAC9CzD,cAAc,CAAC,CAAC,CAAC,CAAC;MAClB2C,aAAa,CAACa,WAAW,CAAC;IAE9B,CAAC,CAAC,OAAOlJ,CAAC,EAAE;MACRoF,WAAW,CAACpF,CAAC,CAAC4G,OAAO,IAAI,qDAAqD,CAAC;MAC/EtB,OAAO,CAAC,IAAI1M,KAAK,CAAC,CAAC,CAAC;MACpB4M,UAAU,CAAC,EAAE,CAAC;MACdE,cAAc,CAAC,CAAC,CAAC,CAAC;MAClBE,aAAa,CAAC,EAAE,CAAC;MACjBE,WAAW,CAAC,EAAE,CAAC;IACnB;EACJ,CAAC;EAED,MAAMsD,cAAc,GAAIrI,KAAK,IAAK;IAC9B,MAAMwH,OAAO,GAAG,IAAI3P,KAAK,CAAC,CAAC;IAC3B,MAAMyQ,WAAW,GAAG9D,OAAO,CAACxI,GAAG,CAACM,CAAC,IAAIA,CAAC,CAAC0K,GAAG,CAAC;IAC3C,KAAK,IAAI/I,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI+B,KAAK,EAAE/B,CAAC,EAAE,EAAE;MAC7BuJ,OAAO,CAACX,IAAI,CAACyB,WAAW,CAACrK,CAAC,CAAC,CAAC;IAChC;IACAsG,OAAO,CAACiD,OAAO,CAAC;IAChBrC,oBAAoB,CAACO,OAAO,GAAG,IAAI7N,KAAK,CAAC2P,OAAO,CAACf,GAAG,CAAC,CAAC,CAAC;IACvD9B,cAAc,CAAC3E,KAAK,CAAC;IACrBsH,aAAa,CAACE,OAAO,CAACf,GAAG,CAAC,CAAC,CAAC;EAChC,CAAC;EAED,MAAM8B,YAAY,GAAG/D,OAAO,CAAC5G,MAAM,GAAG,CAAC;EAE3C,MAAM4K,aAAa,GAAGA,CAAC;IAAEC;EAAM,CAAC,KAAK;IAC7B,MAAMC,QAAQ,GAAGC,UAAU,CAACF,KAAK,CAAC;IAClC,IAAIG,KAAK,CAACF,QAAQ,CAAC,EAAE,OAAO,IAAI;IAChC,MAAMG,YAAY,GAAGnC,IAAI,CAACoC,GAAG,CAAC,CAAC,EAAE,EAAEpC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAE+B,QAAQ,CAAC,CAAC;IAC1D,MAAMK,UAAU,GAAG,EAAE,GAAIF,YAAY,GAAG,CAAE;;IAE1C;IACA,MAAMG,YAAY,GAAIP,KAAK,IAAK;MAC5B,IAAIA,KAAK,GAAG,CAAC,EAAE,OAAO,oCAAoC;MAC1D,IAAIA,KAAK,GAAG,GAAG,EAAE,OAAO,oCAAoC;MAC5D,IAAIA,KAAK,GAAG,CAAC,CAAC,EAAE,OAAO,gCAAgC;MACvD,IAAIA,KAAK,GAAG,CAAC,GAAG,EAAE,OAAO,gCAAgC;MACzD,OAAO,kCAAkC;IAC7C,CAAC;IAED,oBACI1Q,OAAA;MAAKyG,SAAS,EAAC,MAAM;MAAAhE,QAAA,gBACjBzC,OAAA;QAAKyG,SAAS,EAAC,wCAAwC;QAAAhE,QAAA,gBACnDzC,OAAA;UAAMyG,SAAS,EAAC,sDAAsD;UAAAhE,QAAA,EAAC;QAAmB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjGhD,OAAA;UAAMyG,SAAS,EAAE,qBAAqBwK,YAAY,CAACN,QAAQ,CAAC,EAAG;UAAAlO,QAAA,GAC1DkO,QAAQ,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,EAAED,KAAK;QAAA;UAAA7N,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,+EAA+E;QAAAhE,QAAA,gBAC1FzC,OAAA;UAAKyG,SAAS,EAAC,2BAA2B;UAACc,KAAK,EAAE;YAAEtF,KAAK,EAAE,GAAG+O,UAAU,GAAG;YAAEE,UAAU,EAAE;UAAyB;QAAE;UAAArO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvHhD,OAAA;UAAKyG,SAAS,EAAC,uGAAuG;UAAAhE,QAAA,EAAC;QAEvH;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,oEAAoE;QAAAhE,QAAA,gBAC/EzC,OAAA;UAAAyC,QAAA,EAAM;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClBhD,OAAA;UAAAyC,QAAA,EAAM;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClBhD,OAAA;UAAAyC,QAAA,EAAM;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd,CAAC;EAED,oBACIhD,OAAA;IAAAyC,QAAA,gBACIzC,OAAA;MAAIyG,SAAS,EAAC,0DAA0D;MAAAhE,QAAA,EAAC;IAAa;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAE3FhD,OAAA;MAAKyG,SAAS,EAAC,6CAA6C;MAAAhE,QAAA,gBACxDzC,OAAA;QAAKyG,SAAS,EAAC,kBAAkB;QAAAhE,QAAA,gBAC7BzC,OAAA,CAACH,UAAU;UAACsR,QAAQ,EAAE5E,IAAI,CAACmC,GAAG,CAAC,CAAE;UAAC0C,UAAU,EAAE;QAAI;UAAAvO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACpDwN,YAAY,iBAAIxQ,OAAA,CAACyQ,aAAa;UAACC,KAAK,EAAE7D;QAAW;UAAAhK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,qEAAqE;QAAAhE,QAAA,gBAChFzC,OAAA;UAAIyG,SAAS,EAAC,8DAA8D;UAAAhE,QAAA,EAAC;QAAU;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5FhD,OAAA;UAAKyG,SAAS,EAAC,wBAAwB;UAAAhE,QAAA,gBACnCzC,OAAA;YAAMyG,SAAS,EAAC,qDAAqD;YAAAhE,QAAA,EAAC;UAAc;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3FhD,OAAA;YAAMyG,SAAS,EAAE,4CAA4CwG,YAAY,KAAK,OAAO,GAAG,6BAA6B,GAAG,+BAA+B,EAAG;YAAAxK,QAAA,EAAEwK;UAAY;YAAApK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/K,CAAC,eACNhD,OAAA;UACIoH,KAAK,EAAE+E,GAAI;UACXlF,QAAQ,EAAGC,CAAC,IAAKkF,MAAM,CAAClF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;UACxCiK,WAAW,EAAC,kCAAkC;UAC9C5K,SAAS,EAAC;QAAqG;UAAA5D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClH,CAAC,EACDqJ,QAAQ,iBAAIrM,OAAA;UAAGyG,SAAS,EAAC,2BAA2B;UAAAhE,QAAA,EAAE4J;QAAQ;UAAAxJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpEhD,OAAA;UACIsH,OAAO,EAAEkI,aAAc;UACvB8B,QAAQ,EAAErE,YAAY,KAAK,OAAQ;UACnCxG,SAAS,EAAC,+GAA+G;UAAAhE,QAAA,EAC5H;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACRwN,YAAY,iBACTxQ,OAAA;UAAKyG,SAAS,EAAC,MAAM;UAAAhE,QAAA,gBACjBzC,OAAA;YAAIyG,SAAS,EAAC,wDAAwD;YAAAhE,QAAA,EAAC;UAAiB;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC7FhD,OAAA;YAAIyG,SAAS,EAAC,gEAAgE;YAAAhE,QAAA,EACzEsK,QAAQ,CAAC9I,GAAG,CAAC,CAAC6K,IAAI,EAAE7G,KAAK,kBAAKjI,OAAA;cAAAyC,QAAA,EAAiBqM;YAAI,GAAZ7G,KAAK;cAAApF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CACR;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELwN,YAAY,iBACTxQ,OAAA;MAAKyG,SAAS,EAAC,yDAAyD;MAAAhE,QAAA,gBACpEzC,OAAA;QAAIyG,SAAS,EAAC,8DAA8D;QAAAhE,QAAA,EAAC;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvFhD,OAAA;QAAKyG,SAAS,EAAC,sBAAsB;QAAAhE,QAAA,gBACjCzC,OAAA;UAAQsH,OAAO,EAAEA,CAAA,KAAMgJ,cAAc,CAAC,CAAC,CAAC,CAAE;UAAC7J,SAAS,EAAE,gCAAgCkG,WAAW,KAAK,CAAC,CAAC,GAAG,0BAA0B,GAAG,iDAAiD,EAAG;UAAAlK,QAAA,EAAC;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAC1MyJ,OAAO,CAACxI,GAAG,CAAC,CAAC6K,IAAI,EAAE7G,KAAK,kBACrBjI,OAAA;UAAoBsH,OAAO,EAAEA,CAAA,KAAMgJ,cAAc,CAACrI,KAAK,CAAE;UAACxB,SAAS,EAAE,gCAAgCkG,WAAW,KAAK1E,KAAK,GAAG,0BAA0B,GAAG,iDAAiD,EAAG;UAAAxF,QAAA,GACzMkM,IAAI,CAAC4C,KAAK,CAACtJ,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,EAAC,GAAC,EAACA,KAAK,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,EAAC,GAAC,EAAC6G,IAAI,CAACG,GAAG;QAAA,GAD1DhH,KAAK;UAAApF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAACkJ,GAAA,CAhOQD,YAAY;AAAAuF,GAAA,GAAZvF,YAAY;AAkOrB,eAAe,SAASwF,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAC1B,MAAM,CAACjR,KAAK,EAAEC,QAAQ,CAAC,GAAGH,QAAQ,CAAC,CAAC;EACpC,MAAM,CAACoR,SAAS,EAAEC,YAAY,CAAC,GAAG7S,QAAQ,CAAC,WAAW,CAAC;EACvD,MAAM,CAAC2E,cAAc,EAAEmO,iBAAiB,CAAC,GAAG9S,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAAC4E,aAAa,EAAEmO,gBAAgB,CAAC,GAAG/S,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC4K,OAAO,EAAEC,UAAU,CAAC,GAAG7K,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC8C,KAAK,EAAEkQ,QAAQ,CAAC,GAAGhT,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMiT,WAAW,GAAG9S,WAAW,CAAC,YAAY;IACxC0K,UAAU,CAAC,IAAI,CAAC;IAChBmI,QAAQ,CAAC,IAAI,CAAC;IACd,IAAI;MACA,MAAME,WAAW,GAAG,MAAM3Q,SAAS,CAAC,kBAAkB,CAAC;MACvD,MAAM4Q,WAAW,GAAG,MAAM5Q,SAAS,CAAC,kBAAkB,CAAC;MAEvD,IAAI,CAAC6Q,KAAK,CAACC,OAAO,CAACH,WAAW,CAAC,IAAI,CAACE,KAAK,CAACC,OAAO,CAACF,WAAW,CAAC,EAAE;QAC5D,MAAM,IAAIvQ,KAAK,CAAC,8CAA8C,CAAC;MACnE;MAEA,MAAM0Q,iBAAiB,GAAGlS,OAAO,CAACmS,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;QACpDD,GAAG,CAACC,IAAI,CAACpS,IAAI,CAAC,GAAGoS,IAAI,CAACnS,QAAQ;QAC9B,OAAOkS,GAAG;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;MAEN,MAAME,kBAAkB,GAAGR,WAAW,CAAChO,GAAG,CAACU,MAAM,IAAI;QACjD,MAAMtE,QAAQ,GAAGgS,iBAAiB,CAAC1N,MAAM,CAAC+B,WAAW,CAAC;QACtD,MAAMgM,cAAc,GAAGpS,sBAAsB,CAACD,QAAQ,CAAC;QAEvD,MAAMuG,YAAY,GAAG8L,cAAc,GAAG/N,MAAM,CAACgC,YAAY,GAAG+L,cAAc,CAACC,KAAK,GAAG,CAAC;QACpF,MAAM7L,YAAY,GAAG4L,cAAc,GAAG/N,MAAM,CAACkC,YAAY,GAAG6L,cAAc,CAACE,KAAK,GAAG,CAAC;QACpF,MAAM5L,aAAa,GAAG0L,cAAc,GAAG/N,MAAM,CAACoC,aAAa,GAAG2L,cAAc,CAACG,MAAM,GAAG,CAAC;QAEvF,OAAO;UACH,GAAGlO,MAAM;UACTiC,YAAY;UACZE,YAAY;UACZE;QACJ,CAAC;MACL,CAAC,CAAC;MAEF6K,iBAAiB,CAACY,kBAAkB,CAAC;MACrCX,gBAAgB,CAACI,WAAW,CAAC;IACjC,CAAC,CAAC,OAAOhL,CAAC,EAAE;MACR6K,QAAQ,CAAC,qFAAqF,CAAC;MAC/FjQ,OAAO,CAACD,KAAK,CAACqF,CAAC,CAAC;IACpB,CAAC,SAAS;MACN0C,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN5K,SAAS,CAAC,MAAM;IACZgT,WAAW,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAMc,SAAS,GAAGA,CAAA,KAAM;IACpB,IAAInJ,OAAO,EAAE,oBAAO3J,OAAA;MAAKyG,SAAS,EAAC,mDAAmD;MAAAhE,QAAA,EAAC;IAA4B;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;IACzH,IAAInB,KAAK,EAAE,oBAAO7B,OAAA;MAAKyG,SAAS,EAAC,6CAA6C;MAAAhE,QAAA,EAAEZ;IAAK;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;IAC5F,QAAQ2O,SAAS;MACb,KAAK,WAAW;QAAE,oBAAO3R,OAAA,CAACyD,SAAS;UAACsP,OAAO,EAAE5S,OAAQ;UAACuD,cAAc,EAAEA,cAAe;UAACC,aAAa,EAAEA,aAAc;UAAClD,KAAK,EAAEA;QAAM;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACpI,KAAK,cAAc;QAAE,oBAAOhD,OAAA,CAACqI,WAAW;UAAC0K,OAAO,EAAE5S,OAAQ;UAACM,KAAK,EAAEA;QAAM;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC3E,KAAK,eAAe;QAAE,oBAAOhD,OAAA,CAACiM,YAAY;UAACxL,KAAK,EAAEA;QAAM;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC3D;QAAS,oBAAOhD,OAAA,CAACyD,SAAS;UAACsP,OAAO,EAAE5S,OAAQ;UAACuD,cAAc,EAAEA,cAAe;UAACC,aAAa,EAAEA,aAAc;UAAClD,KAAK,EAAEA;QAAM;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC/H;EACJ,CAAC;EAED,MAAMgQ,OAAO,GAAGA,CAAC;IAAE5S;EAAK,CAAC,kBACrBJ,OAAA;IAAQsH,OAAO,EAAEA,CAAA,KAAMsK,YAAY,CAACxR,IAAI,CAAE;IAACqG,SAAS,EAAE,qEAAqEkL,SAAS,KAAKvR,IAAI,GAAG,iFAAiF,GAAG,wHAAwH,EAAG;IAAAqC,QAAA,EAC1VrC;EAAI;IAAAyC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CACX;EAED,MAAMiQ,WAAW,GAAGA,CAAA,KAAMvS,QAAQ,CAACwS,SAAS,IAAIA,SAAS,KAAK,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;EAEzF,oBACIlT,OAAA;IAAKyG,SAAS,EAAC,sDAAsD;IAAAhE,QAAA,gBACjEzC,OAAA;MAAOyG,SAAS,EAAC,0GAA0G;MAAAhE,QAAA,gBACvHzC,OAAA;QAAKyG,SAAS,EAAC,mDAAmD;QAAAhE,QAAA,eAC9DzC,OAAA;UAAIyG,SAAS,EAAC,qDAAqD;UAAAhE,QAAA,EAAC;QAAY;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpF,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,yBAAyB;QAAAhE,QAAA,gBACpCzC,OAAA,CAACgT,OAAO;UAAC5S,IAAI,EAAC;QAAW;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC5BhD,OAAA,CAACgT,OAAO;UAAC5S,IAAI,EAAC;QAAc;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC/BhD,OAAA,CAACgT,OAAO;UAAC5S,IAAI,EAAC;QAAe;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,eACNhD,OAAA;QAAKyG,SAAS,EAAC,mDAAmD;QAAAhE,QAAA,eAC9DzC,OAAA;UAAQsH,OAAO,EAAE2L,WAAY;UAACxM,SAAS,EAAC,oJAAoJ;UAAAhE,QAAA,GACvLhC,KAAK,KAAK,OAAO,gBAAGT,OAAA,CAACsD,QAAQ;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAGhD,OAAA,CAAC+B,OAAO;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC/ChD,OAAA;YAAMyG,SAAS,EAAC,MAAM;YAAAhE,QAAA,EAAC;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACRhD,OAAA;MAAMyG,SAAS,EAAC,4BAA4B;MAAAhE,QAAA,EACvCqQ,SAAS,CAAC;IAAC;MAAAjQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEd;AAAC0O,GAAA,CAhGuBD,GAAG;EAAA,QACGlR,QAAQ;AAAA;AAAA4S,GAAA,GADd1B,GAAG;AAAA,IAAApO,EAAA,EAAAG,GAAA,EAAA4E,GAAA,EAAA4D,GAAA,EAAAwF,GAAA,EAAA2B,GAAA;AAAAC,YAAA,CAAA/P,EAAA;AAAA+P,YAAA,CAAA5P,GAAA;AAAA4P,YAAA,CAAAhL,GAAA;AAAAgL,YAAA,CAAApH,GAAA;AAAAoH,YAAA,CAAA5B,GAAA;AAAA4B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}